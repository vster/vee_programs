(saveFormat "7.0")
(date "Sun 29/Feb/2004 12:17:40 ")
(veerev "7.0.6227.0")
(platform "PC")
(execMode v6)
(prefExecMode v9)
(filterNAN 0)
(workspaceStackingOrder M)
(SaveCF no)
(device 0 ROOTCONTEXT
(properties
(trigMode deg)
(nextID 52)
(popupTitleText "StraVEEgo")
(popupMoveable 1)
(deleteGlobals 0))
(deviceList
(UserFunctions
(nextID 42)
(context 25
(properties
(name "BeginSetupPanel")
(trigMode deg)
(nextID 4)
(popupTitleText "")
(showPopupTitle 0))
(interface
(input 1
(name "playerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes)))
(deviceList
(device 0 FORMULA
(properties
(name "\"Connect ...\"")
(expr 1 "\"Connected to player \\\'\"+pname+\"\\\'.\""))
(interface
(input 1
(name "pname")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 1 FORMULA
(properties
(name "\"Please...\"")
(expr 1 "\"Please set up your pieces in the bottom four rows.\""))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 LABEL
(properties
(name "Connected to player \'Master of the Universe\'.")
(labelValue "Connected to player \'Master of the Universe\'."))
(interface
(input 1
(name "Label")
(tag "Label")
(requires
(datatype Text)
(shape "Scalar"))
(lock constraints)
(optional yes)
(buffer YES)))
(implementation))
(device 3 LABEL
(properties
(name "Please set up your pieces in the bottom four rows.")
(labelValue "Please set up your pieces in the bottom four rows."))
(interface
(input 1
(name "Label")
(tag "Label")
(requires
(datatype Text)
(shape "Scalar"))
(lock constraints)
(optional yes)
(buffer YES)))
(implementation))
(configuration
(connect I1:1 D0:1)
(connect D0:1 D2:1)
(connect D1:1 D3:1)))
(contextCarrier
(active panel)
(panel
(extent 446 139)
(drawGrid "off")
(widget 3 detail
(relativeOrigin 0 60)
(bg "Green")
(fg "White")
(font "Arial" 16 bold)
(PID 0)
(title off)
(tabStop off)
(tabIndex 1)
(borderStyle none)
(extent 450 50)
(just c))
(widget 2 detail
(relativeOrigin 0 0)
(bg "Green")
(fg "White")
(font "Arial" 16 bold)
(PID 1)
(title off)
(tabStop off)
(tabIndex 0)
(borderStyle none)
(extent 440 60)
(just c))
(panelBg "Green"))
(detail
(extent 1005 517)
(anchorPt 0 1)
(configuration
(devCarrierFor 0
(active open)
(icon
(extent 86 0))
(open
(extent 263 32))
(terminals on)
(pinCenter 280 250))
(devCarrierFor 1
(active open)
(icon
(extent 71 0))
(open
(extent 359 32))
(terminals on)
(pinCenter 300 340))
(devCarrierFor 2
(active open)
(icon)
(open
(extent 47 28)
(just l))
(title off)
(pinCenter 610 250))
(devCarrierFor 3
(active open)
(icon)
(open
(extent 47 28)
(just l))
(title off)
(pinCenter 630 340))
(connect I1:1 D0:1
(points 4 0 257 10 257 10 250 96 250))
(connect D0:1 D2:1
(points 2 464 250 584 250))
(connect D1:1 D3:1
(points 2 532 340 604 340)))
(stackingOrder 0 1 2 3))))
(context 37
(properties
(name "CanPlayerMove")
(trigMode deg)
(nextID 22)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(input 1
(name "playerNumber")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(type data)
(name "YesOrNo")
(lock constraints)
(optional yes)))
(deviceList
(device 2 IFTHENELSE
(properties
(name "any open?")
(cases 1 "open1 OR open2 OR open3 OR open4"))
(interface
(input 1
(name "open1")
(optional yes))
(input 2
(name "open2")
(optional yes))
(input 3
(name "open3")
(optional yes))
(input 4
(name "open4")
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 7 FORMULA
(properties
(name "border sq 1 open bool")
(expr 1
"b = BorderSquares[i, 0], (b== -1 ? 0 : GameBoard[b]==0 OR (pn==1 ? GameBoard[b]>1000 : GameBoard[b]<1000))"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "b")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 11 FORCOUNT
(properties
(count 100))
(interface
(output 1
(name "Count")
(lock name constraints))))
(device 12 IFTHENELSE
(properties
(name "my piece and movable?")
(cases 1 "(pn==1 ? (piece>=2 AND piece<=34) : (piece>=1002 AND piece<=1034))"))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "piece")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 14 FORMULA
(properties
(name "piece")
(expr 1 "GameBoard[bi]"))
(interface
(input 1
(name "bi")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 15 FORMULA
(properties
(name "border sq 2 open bool")
(expr 1
"b = BorderSquares[i, 1], (b== -1 ? 0 : GameBoard[b]==0 OR (pn==1 ? GameBoard[b]>1000 : GameBoard[b]<1000))"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "b")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 16 FORMULA
(properties
(name "border sq 3 open bool")
(expr 1
"b = BorderSquares[i, 2], (b== -1 ? 0 : GameBoard[b]==0 OR (pn==1 ? GameBoard[b]>1000 : GameBoard[b]<1000))"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "b")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 17 FORMULA
(properties
(name "border sq 4 open bool")
(expr 1
"b = BorderSquares[i, 3], (b== -1 ? 0 : GameBoard[b]==0 OR (pn==1 ? GameBoard[b]>1000 : GameBoard[b]<1000))"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "b")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 18 JUNCTION
(properties
(name "JCT"))
(interface
(input 1
(name "A"))
(input 2
(name "B"))
(output 1
(name "Data"))))
(device 19 GATE
(interface
(input 1
(name "A")
(tag "InData"))
(output 1
(name "X"))))
(device 20 EXITCONTEXT)
(device 21 CONSTANT
(properties
(name "FALSE"))
(interface
(output 1
(name "Int32")
(lock name constraints)))
(implementation
(value Int32
(data  0))
(initValue Int32
(data  0))))
(configuration
(connect D1:2 D0:1)
(connect D5:2 D0:2)
(connect D6:2 D0:3)
(connect D7:2 D0:4)
(connect D3:1 D1:0)
(connect I1:1 D1:1)
(connect D2:1 D1:2)
(connect I1:1 D3:1)
(connect D4:1 D3:2)
(connect D2:1 D4:1)
(connect D1:0 D5:0)
(connect I1:1 D5:1)
(connect D2:1 D5:2)
(connect D5:0 D6:0)
(connect I1:1 D6:1)
(connect D2:1 D6:2)
(connect D6:0 D7:0)
(connect I1:1 D7:1)
(connect D2:1 D7:2)
(connect D0:1 D8:1)
(connect D11:1 D8:2)
(connect D8:1 D9:1)
(connect D9:0 D10:0)
(connect D2:0 D11:0)
(connect D9:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 897 451)
(anchorPt -53 -135)
(configuration
(devCarrierFor 2
(active icon)
(icon
(extent 73 45))
(open
(extent 279 82))
(terminals on)
(pinCenter 680 360))
(devCarrierFor 7
(active icon)
(icon
(extent 154 25))
(open
(extent 763 49))
(terminals on)
(pinCenter 510 320))
(devCarrierFor 11
(active icon)
(icon
(extent 70 52)
(iconImage "loop.icn"))
(open
(extent 106 32))
(pinCenter 180 240))
(devCarrierFor 12
(active icon)
(icon
(extent 163 25))
(open
(extent 490 53))
(terminals on)
(pinCenter 420 250))
(devCarrierFor 14
(active icon)
(icon
(extent 38 16))
(open
(extent 129 32))
(terminals on)
(pinCenter 260 250))
(devCarrierFor 15
(active icon)
(icon
(extent 154 25))
(open
(extent 763 49))
(terminals on)
(pinCenter 510 370))
(devCarrierFor 16
(active icon)
(icon
(extent 154 25))
(open
(extent 763 49))
(terminals on)
(pinCenter 510 420))
(devCarrierFor 17
(active icon)
(icon
(extent 154 25))
(open
(extent 763 49))
(terminals on)
(pinCenter 510 470))
(devCarrierFor 18
(active icon)
(icon
(extent 29 25))
(open)
(terminals on)
(pinCenter 810 370))
(devCarrierFor 19
(active icon)
(icon
(extent 35 16))
(open)
(terminals on)
(pinCenter 880 360))
(devCarrierFor 20
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 880 440))
(devCarrierFor 21
(active icon)
(icon
(extent 48 16))
(open
(extent 84 30)
(showFormat int))
(pinCenter 180 480))
(connect D1:2 D0:1
(points 4 589 330 610 330 610 340 641 340))
(connect D5:2 D0:2
(points 4 589 380 620 380 620 350 641 350))
(connect D6:2 D0:3
(points 4 589 430 600 430 600 360 641 360))
(connect D7:2 D0:4
(points 4 589 480 610 480 610 370 641 370))
(connect D3:1 D1:0
(points 5 504 240 520 240 520 290 510 290 510 305))
(connect I1:1 D1:1
(points 6 53 360 70 360 70 300 240 300 240 310 430 310))
(connect D2:1 D1:2
(points 6 217 240 230 240 230 290 390 290 390 330 430 330))
(connect I1:1 D3:1
(points 8 53 360 70 360 70 300 120 300 120 190 300 190 300 240 336 240))
(connect D4:1 D3:2
(points 4 281 250 300 250 300 260 336 260))
(connect D2:1 D4:1
(points 4 217 240 230 240 230 250 238 250))
(connect D1:0 D5:0
(points 2 510 335 510 355))
(connect I1:1 D5:1
(points 6 53 360 70 360 70 300 240 300 240 360 430 360))
(connect D2:1 D5:2
(points 6 217 240 230 240 230 290 390 290 390 380 430 380))
(connect D5:0 D6:0
(points 2 510 385 510 405))
(connect I1:1 D6:1
(points 8 53 360 70 360 70 300 240 300 240 360 380 360 380 410 430 410))
(connect D2:1 D6:2
(points 6 217 240 230 240 230 290 390 290 390 430 430 430))
(connect D6:0 D7:0
(points 2 510 435 510 455))
(connect I1:1 D7:1
(points 8 53 360 70 360 70 300 240 300 240 360 380 360 380 460 430 460))
(connect D2:1 D7:2
(points 8 217 240 230 240 230 290 390 290 390 430 400 430 400 480 430 480))
(connect D0:1 D8:1
(points 4 719 350 740 350 740 360 793 360))
(connect D11:1 D8:2
(points 6 206 480 230 480 230 510 730 510 730 380 793 380))
(connect D8:1 D9:1
(points 4 827 370 840 370 840 360 860 360))
(connect D9:0 D10:0
(points 2 880 370 880 429))
(connect D2:0 D11:0
(points 2 180 268 180 469))
(connect D9:1 O1:1
(points 4 900 360 926 360 926 360 949 360)))
(stackingOrder 2 4 5 6 7 3 8 9 10 11 0 1))))
(context 33
(properties
(name "ClientMove")
(trigMode deg)
(nextID 9)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "PlayAgain")
(lock constraints)
(optional yes)))
(deviceList
(device 0 CALL
(properties
(name "Call network.GetPlayer1Move")
(callFunc "network.GetPlayer1Move")
(parmMode rev30))
(interface
(output 1
(name "from")
(optional yes))
(output 2
(name "to")
(optional yes))))
(device 1 IFTHENELSE
(properties
(name "new position occupied by opponent?")
(cases 1 "GameBoard[newIndex]!=0"))
(interface
(input 1
(name "newIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 2 CONSTANT
(properties
(name "1"))
(interface
(output 1
(name "Int32")
(lock name constraints)))
(implementation
(value Int32
(data  1))
(initValue Int32
(data  0))))
(device 3 FORMULA
(properties
(name "move piece")
(expr 1 "GameBoard[newIndex] = GameBoard[prevIndex], GameBoard[prevIndex] = 0"))
(interface
(input 1
(name "prevIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "newIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 4 CALL
(properties
(name "Call playerAttack")
(callFunc "playerAttack")
(parmMode rev30))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "attackerPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 3
(name "defenderPos")
(optional yes))
(output 1
(name "PlayAgain")
(lock name constraints)
(optional yes))))
(device 5 FORMULA
(properties
(name "translate move")
(expr 1 "xlateFrom = 99-from, 99-to"))
(interface
(input 1
(name "from")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "to")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "xlateFrom")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 6 FORMULA
(properties
(name "board.HidePlayerMovePrompt(1)")
(expr 1 "board.hidePlayerMovePrompt(1)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 7 FORMULA
(properties
(name "board.ShowPlayerMovePrompt(1)")
(expr 1 "board.showPlayerMovePrompt(1, myPlayerNumber)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 8 FORMULA
(properties
(name "Call board.MoveOpponentPiece")
(expr 1
"board.MoveOpponentPiece(0, GameBoard[newLoc], newLoc, prevLoc, player1Color)"))
(interface
(input 1
(name "newLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "prevLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D7:0 D0:0)
(connect D5:2 D1:1)
(connect D1:1 D2:0)
(connect D1:2 D3:0)
(connect D5:1 D3:1)
(connect D5:2 D3:2)
(connect D2:1 D4:1)
(connect D5:1 D4:2)
(connect D5:2 D4:3)
(connect D0:1 D5:1)
(connect D0:2 D5:2)
(connect D0:0 D6:0)
(connect D3:0 D8:0)
(connect D5:2 D8:1)
(connect D5:1 D8:2)
(connect D4:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 1077 359)
(anchorPt 46 22)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 204 25))
(open
(extent 186 53))
(terminals on)
(pinCenter 130 80))
(devCarrierFor 1
(active icon)
(icon
(extent 253 25))
(open
(extent 202 57))
(terminals on)
(pinCenter 530 90))
(devCarrierFor 2
(active icon)
(icon
(extent 24 16))
(open
(extent 84 30)
(showFormat int))
(pinCenter 710 100))
(devCarrierFor 3
(active icon)
(icon
(extent 79 25))
(open
(extent 514 42))
(terminals on)
(pinCenter 670 180))
(devCarrierFor 4
(active icon)
(icon
(extent 116 34))
(open
(extent 196 62))
(terminals on)
(pinCenter 810 110))
(devCarrierFor 5
(active icon)
(icon
(extent 102 25))
(open
(extent 202 49))
(terminals on)
(pinCenter 310 80))
(devCarrierFor 6
(active icon)
(icon
(extent 226 16))
(open
(extent 244 32))
(terminals on)
(pinCenter 130 190))
(devCarrierFor 7
(active icon)
(icon
(extent 233 16))
(open
(extent 359 32))
(terminals on)
(pinCenter 130 20))
(devCarrierFor 8
(active icon)
(icon
(extent 221 25))
(open
(extent 572 42))
(terminals on)
(pinCenter 670 240))
(connect D7:0 D0:0
(points 2 130 30 130 65))
(connect D5:2 D1:1
(points 2 363 90 401 90))
(connect D1:1 D2:0
(points 5 659 80 680 80 680 70 710 70 710 89))
(connect D1:2 D3:0
(points 3 659 100 670 100 670 165))
(connect D5:1 D3:1
(points 4 363 70 370 70 370 170 628 170))
(connect D5:2 D3:2
(points 6 363 90 380 90 380 140 600 140 600 190 628 190))
(connect D2:1 D4:1
(points 2 724 100 749 100))
(connect D5:1 D4:2
(points 6 363 70 380 70 380 50 740 50 740 110 749 110))
(connect D5:2 D4:3
(points 6 363 90 380 90 380 140 730 140 730 120 749 120))
(connect D0:1 D5:1
(points 2 234 70 256 70))
(connect D0:2 D5:2
(points 2 234 90 256 90))
(connect D0:0 D6:0
(points 2 130 95 130 179))
(connect D3:0 D8:0
(points 2 670 195 670 225))
(connect D5:2 D8:1
(points 6 363 90 380 90 380 140 540 140 540 230 557 230))
(connect D5:1 D8:2
(points 6 363 70 370 70 370 170 530 170 530 250 557 250))
(connect D4:1 O1:1
(points 4 870 110 890 110 890 157 1030 157)))
(stackingOrder 2 6 5 7 3 8 1 0 4))))
(context 38
(properties
(name "CreateBorderSquaresArray2")
(trigMode deg)
(nextID 13)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 1 FORCOUNT
(properties
(name "For Square")
(count 100))
(interface
(output 1
(name "Count")
(lock name constraints))))
(device 2 COLLECTOR
(properties
(output1D 0))
(interface
(input 1
(name "Data")
(tag "Data"))
(input 2
(type trigger)
(name "XEQ")
(lock name constraints))
(output 1
(name "Array")
(tag "Array"))))
(device 4 FORMULA
(properties
(name "upper")
(expr 1
"up = i-10, ((up<0 OR up==42 OR up==43 OR up==52 OR up==53 OR up==46 OR up==47 OR up==56 OR up==57) ?  -1 : up)"
))
(interface
(input 1
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "up")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 5 COLLECTOR
(properties
(output1D 0))
(interface
(input 1
(name "Data")
(tag "Data"))
(input 2
(type trigger)
(name "XEQ")
(lock name constraints))
(output 1
(name "Array")
(tag "Array"))))
(device 6 JUNCTION
(properties
(name "JCT"))
(interface
(input 1
(name "A")
(optional yes))
(input 2
(name "B")
(optional yes))
(input 3
(name "C")
(optional yes))
(input 4
(name "D")
(optional yes))
(output 1
(name "Data"))))
(device 7 FORMULA
(properties
(name "lower")
(expr 1
"lr = i+10, ((lr>=100 OR lr==42 OR lr==43 OR lr==52 OR lr==53 OR lr==46 OR lr==47 OR lr==56 OR lr==57) ?  -1 : lr)"
))
(interface
(input 1
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "lr")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 8 FORMULA
(properties
(name "left")
(expr 1
"l = i-1, (((l MOD 10==9) OR l== -1 OR l==42 OR l==43 OR l==52 OR l==53 OR l==46 OR l==47 OR l==56 OR l==57) ?  -1 : l)"
))
(interface
(input 1
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "l")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 9 FORMULA
(properties
(name "right")
(expr 1
"r = i+1, (((r MOD 10==0) OR r==42 OR r==43 OR r==52 OR r==53 OR r==46 OR r==47 OR r==56 OR r==57) ?  -1 : r)"
))
(interface
(input 1
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "r")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 10 FORMULA
(properties
(name "set \'BorderSquares\'")
(expr 1 "BorderSquares = bs"))
(interface
(input 1
(name "bs")
(requires
(datatype Int32)
(shape "Array 2D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 12 NOTE
(properties
(text2 5 "Other code ASSUMES that" "the borderSquares are in"
"order Up, Down Left Right" "0->3.  DO NOT CHANGE" "(used in IfCanMove9...)")))
(configuration
(connect D4:1 D1:1)
(connect D7:0 D1:2)
(connect D0:1 D2:1)
(connect D1:1 D3:1)
(connect D0:0 D3:2)
(connect D2:2 D4:1)
(connect D5:2 D4:2)
(connect D6:2 D4:3)
(connect D7:2 D4:4)
(connect D2:0 D5:0)
(connect D0:1 D5:1)
(connect D5:0 D6:0)
(connect D0:1 D6:1)
(connect D6:0 D7:0)
(connect D0:1 D7:1)
(connect D3:1 D8:1)))
(contextCarrier
(active detail)
(detail
(extent 891 428)
(anchorPt 30 48)
(configuration
(devCarrierFor 1
(active icon)
(icon
(extent 79 52)
(iconImage "loop.icn"))
(open
(extent 106 32))
(pinCenter 90 70))
(devCarrierFor 2
(active icon)
(icon
(extent 61 25))
(open)
(terminals on)
(pinCenter 420 160))
(devCarrierFor 4
(active icon)
(icon
(extent 41 25))
(open
(extent 876 40))
(terminals on)
(pinCenter 210 90))
(devCarrierFor 5
(active icon)
(icon
(extent 61 25))
(open
(extent 109 56))
(terminals on)
(pinCenter 520 170))
(devCarrierFor 6
(active icon)
(icon
(extent 29 45))
(open)
(terminals on)
(pinCenter 290 150))
(devCarrierFor 7
(active icon)
(icon
(extent 37 25))
(open
(extent 823 42))
(terminals on)
(pinCenter 210 130))
(devCarrierFor 8
(active icon)
(icon
(extent 24 25))
(open
(extent 823 42))
(terminals on)
(pinCenter 210 180))
(devCarrierFor 9
(active icon)
(icon
(extent 32 25))
(open
(extent 823 42))
(terminals on)
(pinCenter 210 220))
(devCarrierFor 10
(active icon)
(icon
(extent 137 16))
(open
(extent 231 32))
(terminals on)
(pinCenter 660 170))
(devCarrierFor 12
(active open)
(icon
(iconImage "notepad.icn"))
(open
(extent 282 108)
(editing enabled))
(pinCenter 640 270))
(connect D4:1 D1:1
(points 2 307 150 387 150))
(connect D7:0 D1:2
(points 5 210 235 210 260 330 260 330 170 387 170))
(connect D0:1 D2:1
(points 4 132 70 150 70 150 90 187 90))
(connect D1:1 D3:1
(points 2 453 160 487 160))
(connect D0:0 D3:2
(points 5 90 98 90 270 470 270 470 180 487 180))
(connect D2:2 D4:1
(points 4 233 100 250 100 250 130 273 130))
(connect D5:2 D4:2
(points 2 231 140 273 140))
(connect D6:2 D4:3
(points 4 224 190 250 190 250 150 273 150))
(connect D7:2 D4:4
(points 4 228 230 260 230 260 160 273 160))
(connect D2:0 D5:0
(points 2 210 105 210 115))
(connect D0:1 D5:1
(points 4 132 70 150 70 150 130 189 130))
(connect D5:0 D6:0
(points 2 210 145 210 165))
(connect D0:1 D6:1
(points 4 132 70 150 70 150 180 195 180))
(connect D6:0 D7:0
(points 2 210 195 210 205))
(connect D0:1 D7:1
(points 4 132 70 150 70 150 220 191 220))
(connect D3:1 D8:1
(points 2 553 170 589 170)))
(stackingOrder 4 1 3 8 5 9 6 7 2 0))))
(context 34
(properties
(name "DoClientMove")
(trigMode deg)
(nextID 13)
(popupTitleText "UserFunction")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "from")
(lock constraints)
(optional yes))
(output 2
(type data)
(name "to")
(lock constraints)
(optional yes)))
(deviceList
(device 0 IFTHENELSE
(properties
(name "local or remote?")
(cases 1 "myPlayerNumber==2"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 1 CALL
(properties
(name "Call network.GetPlayer2Move")
(callFunc "network.GetPlayer2Move")
(parmMode rev30))
(interface
(output 1
(name "from")
(optional yes))
(output 2
(name "to")
(optional yes))))
(device 2 FORMULA
(properties
(name "translate move")
(expr 1 "xlateFrom = 99-from, 99-to"))
(interface
(input 1
(name "from")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "to")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "xlateFrom")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 3 FORMULA
(properties
(name "GameBoard")
(expr 1 "GameBoard"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 4 CALL
(properties
(name "Call board.Player2Move")
(callFunc "board.Player2Move")
(parmMode rev30))
(interface
(input 1
(name "board")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "oldIndex")
(lock name constraints)
(optional yes))
(output 2
(name "newIndex")
(lock name constraints)
(optional yes))
(output 3
(name "cannotMove")
(lock name constraints)
(optional yes))))
(device 5 CALL
(properties
(name "Call network.SendPlayer2Move")
(callFunc "network.SendPlayer2Move")
(parmMode rev30))
(interface
(input 1
(name "from")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "to")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))))
(device 6 JUNCTION
(properties
(name "JCT"))
(interface
(input 1
(name "A"))
(input 2
(name "B"))
(output 1
(name "Data"))))
(device 7 JUNCTION
(properties
(name "JCT"))
(interface
(input 1
(name "A"))
(input 2
(name "B"))
(output 1
(name "Data"))))
(configuration
(connect D0:2 D1:0)
(connect D1:1 D2:1)
(connect D1:2 D2:2)
(connect D0:1 D3:0)
(connect D3:1 D4:1)
(connect D4:1 D5:1)
(connect D4:2 D5:2)
(connect D4:2 D6:1)
(connect D2:2 D6:2)
(connect D4:1 D7:1)
(connect D2:1 D7:2)
(connect D7:1 O1:1)
(connect D6:1 O2:1)))
(contextCarrier
(active detail)
(detail
(extent 891 345)
(anchorPt -2 8)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 112 25))
(open
(extent 163 53))
(terminals on)
(pinCenter 120 120))
(devCarrierFor 1
(active icon)
(icon
(extent 204 25))
(open
(extent 186 53))
(terminals on)
(pinCenter 310 200))
(devCarrierFor 2
(active icon)
(icon
(extent 102 25))
(open
(extent 202 49))
(terminals on)
(pinCenter 490 200))
(devCarrierFor 3
(active icon)
(icon
(extent 83 16))
(open
(extent 110 32))
(terminals on)
(pinCenter 280 80))
(devCarrierFor 4
(active icon)
(icon
(extent 166 34))
(open
(extent 196 76))
(terminals on)
(pinCenter 440 80))
(devCarrierFor 5
(active icon)
(icon
(extent 215 25))
(open
(extent 198 53))
(terminals on)
(pinCenter 680 40))
(devCarrierFor 6
(active icon)
(icon
(extent 29 25))
(open)
(terminals on)
(pinCenter 650 190))
(devCarrierFor 7
(active icon)
(icon
(extent 29 25))
(open)
(terminals on)
(pinCenter 650 100))
(connect D0:2 D1:0
(points 3 178 130 310 130 310 185))
(connect D1:1 D2:1
(points 2 414 190 436 190))
(connect D1:2 D2:2
(points 2 414 210 436 210))
(connect D0:1 D3:0
(points 5 178 110 200 110 200 50 280 50 280 69))
(connect D3:1 D4:1
(points 2 324 80 354 80))
(connect D4:1 D5:1
(points 4 525 70 550 70 550 30 570 30))
(connect D4:2 D5:2
(points 4 525 80 560 80 560 50 570 50))
(connect D4:2 D6:1
(points 6 525 80 540 80 540 100 560 100 560 180 633 180))
(connect D2:2 D6:2
(points 4 543 210 560 210 560 200 633 200))
(connect D4:1 D7:1
(points 4 525 70 550 70 550 90 633 90))
(connect D2:1 D7:2
(points 4 543 190 570 190 570 110 633 110))
(connect D7:1 O1:1
(points 4 667 100 810 100 810 74 892 74))
(connect D6:1 O2:1
(points 4 667 190 690 190 690 254 892 254)))
(stackingOrder 1 2 3 6 7 0 5 4))))
(context 15
(properties
(name "FindDeadPieces")
(trigMode deg)
(nextID 13)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(input 1
(name "playerNumber")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(type data)
(name "pieces")
(lock constraints)
(optional yes)))
(deviceList
(device 0 FORCOUNT
(properties
(count 100))
(interface
(output 1
(name "Count")
(lock name constraints))))
(device 1 IFTHENELSE
(properties
(name "player piece?")
(cases 1 "GameBoard[i]>0 AND (pn==1 ? GameBoard[i]<=40 : GameBoard[i]>1000)"))
(interface
(input 1
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 2 DECLVAR
(properties
(name "Declare Local \'pieces\'")
(scope con)
(globalName "pieces"))
(implementation
(value Int32
(numDims 1)
(size 1)
(data  [ 0 ]))))
(device 3 FORMULA
(properties
(name "init \'pieces\' as dead")
(expr 1 "pieces = ary"))
(interface
(input 1
(name "ary")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 4 ALLOCATEARRAY
(properties
(name "Alloc Integer Array"))
(interface
(output 1
(name "Array")
(tag "Array")))
(implementation
(numDims 1)
(dimSizes "40")
(type "Int32")
(initEnum "Init Value")
(initialValue
(data  0))
(from 1)
(thru 10)))
(device 5 FORMULA
(properties
(name "piece #")
(expr 1 "(GameBoard[i]>1000 ? GameBoard[i]-1000 : GameBoard[i])"))
(interface
(input 1
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 7 FORMULA
(properties
(name "mark as alive")
(expr 1 "pieces[pieceNumber-1] = 1"))
(interface
(input 1
(name "pieceNumber")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 8 FORCOUNT
(properties
(count 40))
(interface
(output 1
(name "Count")
(lock name constraints))))
(device 9 IFTHENELSE
(properties
(name "piece dead?")
(cases 1 "pieces[i]==0"))
(interface
(input 1
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 10 COLLECTOR
(properties
(output1D 0))
(interface
(input 1
(name "Data")
(tag "Data")
(requires
(datatype Int32)
(shape "Scalar")))
(input 2
(type trigger)
(name "XEQ")
(lock name constraints))
(output 1
(name "Array")
(tag "Array"))))
(device 12 FORMULA
(properties
(name "piece #")
(expr 1 "i+1"))
(interface
(input 1
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D4:0 D0:0)
(connect D0:1 D1:1)
(connect I1:1 D1:2)
(connect D4:1 D3:1)
(connect D1:1 D5:0)
(connect D0:1 D5:1)
(connect D5:1 D6:1)
(connect D0:0 D7:0)
(connect D7:1 D8:1)
(connect D10:1 D9:1)
(connect D7:0 D9:2)
(connect D8:1 D10:0)
(connect D7:1 D10:1)
(connect D9:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 557 557)
(anchorPt 26 49)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 70 52)
(iconImage "loop.icn"))
(open
(extent 106 32))
(pinCenter 90 140))
(devCarrierFor 1
(active icon)
(icon
(extent 93 25))
(open
(extent 495 53))
(terminals on)
(pinCenter 230 150))
(devCarrierFor 2
(active icon)
(icon
(extent 151 16))
(open
(extent 225 106))
(pinCenter 110 30))
(devCarrierFor 3
(active icon)
(icon
(extent 136 16))
(open
(extent 111 32))
(terminals on)
(pinCenter 260 70))
(devCarrierFor 4
(active icon)
(icon
(extent 127 16))
(open
(extent 208 117))
(terminals on)
(pinCenter 90 70))
(devCarrierFor 5
(active icon)
(icon
(extent 50 16))
(open
(extent 410 32))
(terminals on)
(pinCenter 330 180))
(devCarrierFor 7
(active icon)
(icon
(extent 91 16))
(open
(extent 206 38))
(terminals on)
(pinCenter 430 180))
(devCarrierFor 8
(active icon)
(icon
(extent 70 52)
(iconImage "loop.icn"))
(open
(extent 106 32))
(pinCenter 90 330))
(devCarrierFor 9
(active icon)
(icon
(extent 85 25))
(open
(extent 108 53))
(terminals on)
(pinCenter 200 330))
(devCarrierFor 10
(active icon)
(icon
(extent 61 25))
(open
(extent 109 56))
(terminals on)
(pinCenter 420 350))
(devCarrierFor 12
(active icon)
(icon
(extent 50 16))
(open
(extent 72 32))
(terminals on)
(pinCenter 320 340))
(connect D4:0 D0:0
(points 2 90 80 90 111))
(connect D0:1 D1:1
(points 2 127 140 181 140))
(connect I1:1 D1:2
(points 4 -26 229 150 229 150 160 181 160))
(connect D4:1 D3:1
(points 2 156 70 189 70))
(connect D1:1 D5:0
(points 3 279 140 330 140 330 169))
(connect D0:1 D5:1
(points 6 127 140 150 140 150 120 290 120 290 180 302 180))
(connect D5:1 D6:1
(points 2 357 180 382 180))
(connect D0:0 D7:0
(points 2 90 168 90 301))
(connect D7:1 D8:1
(points 2 127 330 155 330))
(connect D10:1 D9:1
(points 2 347 340 387 340))
(connect D7:0 D9:2
(points 5 90 358 90 380 370 380 370 360 387 360))
(connect D8:1 D10:0
(points 5 245 320 270 320 270 310 320 310 320 329))
(connect D7:1 D10:1
(points 6 127 330 150 330 150 370 270 370 270 340 292 340))
(connect D9:1 O1:1
(points 4 453 350 470 350 470 229 530 229)))
(stackingOrder 0 5 8 10 9 3 1 6 2 4 7))))
(context 39
(properties
(name "GameOverPlayerCannotMove")
(trigMode deg)
(nextID 4)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(input 1
(name "losingPlayerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(input 2
(name "winningPlayerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(output 1
(type data)
(name "playAgain")
(lock constraints)
(optional yes)))
(deviceList
(device 1 CALL
(properties
(name "Call board.GameOver_PlayerCantMove")
(callFunc "board.GameOver_PlayerCantMove")
(parmMode rev30))
(interface
(input 1
(name "GameBoard")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(input 2
(name "losingPlayerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(input 3
(name "winningPlayerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(output 1
(name "PlayAgain")
(optional yes))
(output 2
(name "Quit")
(optional yes))))
(device 2 FORMULA
(properties
(name "GameBoard")
(expr 1 "GameBoard"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 3 EXITPROCESS
(properties
(code 0)))
(configuration
(connect D1:1 D0:1)
(connect I1:1 D0:2)
(connect I2:1 D0:3)
(connect D0:2 D2:0)
(connect D0:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 605 300)
(anchorPt -136 95)
(configuration
(devCarrierFor 1
(active icon)
(icon
(extent 275 34))
(open
(extent 310 70))
(terminals on)
(pinCenter 440 80))
(devCarrierFor 2
(active icon)
(icon
(extent 83 16))
(open
(extent 110 32))
(terminals on)
(pinCenter 210 50))
(devCarrierFor 3
(active icon)
(icon
(extent 68 52)
(iconImage "stop.icn"))
(open
(extent 69 32))
(pinCenter 610 150))
(connect D1:1 D0:1
(points 4 254 50 270 50 270 70 300 70))
(connect I1:1 D0:2
(points 4 136 -26 150 -26 150 80 300 80))
(connect I2:1 D0:3
(points 4 136 134 150 134 150 90 300 90))
(connect D0:2 D2:0
(points 3 580 90 610 90 610 121))
(connect D0:1 O1:1
(points 4 580 70 620 70 620 54 740 54)))
(stackingOrder 1 0 2))))
(context 13
(properties
(name "GetGameMode")
(trigMode deg)
(nextID 10)
(popupTitleText "StraVEEgo")
(popupTitleFont "Arial" 16 bold))
(interface
(output 1
(type data)
(name "NewCompGame")
(lock constraints)
(optional yes))
(output 2
(type data)
(name "SavedCompGame")
(lock constraints)
(optional yes))
(output 3
(type data)
(name "Networked")
(lock constraints)
(optional yes))
(output 4
(type data)
(name "Cancel")
(lock constraints)
(optional yes)))
(deviceList
(device 0 ENUMCONSTANT
(properties
(name "Radio Buttons"))
(interface
(input 1
(type control)
(name "Reset")
(lock name constraints)
(optional yes))
(output 1
(name "Enum")
(lock name constraints))
(output 2
(name "Ordinal")
(lock name constraints)))
(implementation
(value Enum
(values
("  New Game versus Computer  " 0)
("  Previous Game versus Computer  " 1)
("  Networked Game  " 2))
(data  "  New Game versus Computer  "))
(initValue Text
(data  "  New Game versus Computer  "))))
(device 1 CONFIRM25
(properties
(enterButton 1)
(escapeButton 0)
(isAssigned2FKey None))
(interface
(output 1
(name "Go")
(lock name constraints)))
(implementation))
(device 2 CONFIRM25
(properties
(name "Cancel")
(enterButton 0)
(escapeButton 1)
(isAssigned2FKey None))
(interface
(output 1
(name "Go")
(lock name constraints)))
(implementation))
(device 3 IFTHENELSE
(properties
(name "sel == 0, 1, or 2?")
(cases 2 "sel==0" "sel==1"))
(interface
(input 1
(name "sel")
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else If")
(lock name constraints))
(output 3
(name "Else")
(lock name constraints))))
(device 4 GATE
(interface
(input 1
(name "A")
(tag "InData"))
(output 1
(name "X"))))
(device 5 EXITCONTEXT)
(device 6 EXITCONTEXT)
(device 8 DO
(interface
(output 1
(name "Do"))))
(device 9 LABEL
(properties
(name "Choose one of the following")
(labelValue "Choose one of the following"))
(implementation))
(configuration
(connect D1:1 D0:0)
(connect D7:1 D0:1)
(connect D7:0 D1:0)
(connect D0:2 D3:1)
(connect D2:1 D4:1)
(connect D4:0 D5:0)
(connect D3:0 D6:0)
(connect D3:1 O1:1)
(connect D3:2 O2:1)
(connect D3:3 O3:1)
(connect D4:1 O4:1))
(ShowOnExecPanel
(relativeOrigin 252 157)))
(contextCarrier
(active panel)
(panel
(extent 312 239)
(gridSize 5)
(drawGrid "off")
(widget 1 detail
(relativeOrigin 80 200)
(bg "Light Blue")
(fg "Black")
(PID 0)
(title off)
(tabIndex 2)
(borderStyle none)
(extent 70 30))
(widget 2 detail
(relativeOrigin 160 200)
(bg "Light Blue")
(fg "Black")
(PID 1)
(title off)
(tabIndex 3)
(borderStyle none)
(extent 70 30))
(widget 0 detail
(relativeOrigin 5 40)
(bg "Light Blue")
(fg "Black")
(font "Arial" 14 bold)
(PID 2)
(title off)
(tabIndex 0)
(borderStyle flat)
(extent 281 141)
(format buttons))
(widget 8 detail
(relativeOrigin 35 30)
(bg "Light Blue")
(fg "Black")
(font "Arial" 12 bold)
(PID 3)
(title off)
(tabStop off)
(tabIndex 1)
(borderStyle none)
(extent 175 25)
(just l))
(panelBg "Light Blue"))
(detail
(extent 687 353)
(anchorPt 18 16)
(configuration
(devCarrierFor 0
(active open)
(icon)
(open
(extent 246 82)
(format buttons))
(pinCenter 170 120))
(devCarrierFor 1
(active open)
(icon)
(open
(extent 47 22))
(title off)
(pinCenter 80 230))
(devCarrierFor 2
(active open)
(icon
(extent 48 0))
(open
(extent 47 22))
(title off)
(pinCenter 170 230))
(devCarrierFor 3
(active icon)
(icon
(extent 117 34))
(open
(extent 73 62))
(terminals on)
(pinCenter 380 100))
(devCarrierFor 4
(active icon)
(icon
(extent 35 16))
(open)
(terminals on)
(pinCenter 390 250))
(devCarrierFor 5
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 390 300))
(devCarrierFor 6
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 380 170))
(devCarrierFor 8
(active icon)
(icon
(extent 24 16))
(open)
(terminals on)
(pinCenter 40 20))
(devCarrierFor 9
(active open)
(icon
(extent 168 0))
(open
(extent 165 27)
(just l))
(title off)
(pinCenter 340 10))
(connect D1:1 D0:0
(points 7 106 230 120 230 120 200 20 200 20 40 170 40 170 58))
(connect D7:1 D0:1
(points 6 54 20 70 20 70 -10 10 -10 10 120 44 120))
(connect D7:0 D1:0
(points 6 40 30 40 50 0 50 0 210 80 210 80 216))
(connect D0:2 D3:1
(points 4 295 140 310 140 310 100 319 100))
(connect D2:1 D4:1
(points 4 196 230 220 230 220 250 370 250))
(connect D4:0 D5:0
(points 2 390 260 390 289))
(connect D3:0 D6:0
(points 2 380 119 380 159))
(connect D3:1 O1:1
(points 4 441 90 460 90 460 20 668 20))
(connect D3:2 O2:1
(points 4 441 100 460 100 460 110 668 110))
(connect D3:3 O3:1
(points 6 441 110 450 110 450 130 460 130 460 200 668 200))
(connect D4:1 O4:1
(points 4 410 250 470 250 470 290 668 290)))
(stackingOrder 1 2 3 4 6 5 7 0 8))))
(context 29
(properties
(name "HostMove")
(trigMode deg)
(nextID 16)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "PlayAgain")
(lock constraints)
(optional yes)))
(deviceList
(device 0 FORMULA
(properties
(name "GameBoard")
(expr 1 "GameBoard"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 CALL
(properties
(name "Call board.Player1Move")
(callFunc "board.Player1Move")
(parmMode rev30))
(interface
(input 1
(name "board")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "oldIndex")
(lock name constraints)
(optional yes))
(output 2
(name "newIndex")
(lock name constraints)
(optional yes))
(output 3
(name "cannotMove")
(lock name constraints)
(optional yes))))
(device 4 IFTHENELSE
(properties
(name "new position occupied by opponent?")
(cases 1 "GameBoard[newIndex]!=0"))
(interface
(input 1
(name "newIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 5 FORMULA
(properties
(name "move piece")
(expr 1 "GameBoard[newIndex] = GameBoard[prevIndex], GameBoard[prevIndex] = 0"))
(interface
(input 1
(name "prevIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "newIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 6 FORMULA
(properties
(name "Call MoveOccurred (stealth)")
(expr 1
"v1 = GameBoard[prev], v2 = GameBoard[new], v1 = ((v1>0 AND v1<1000) ? MovablePiece(prev, new) : v1), v2 = ((v2>0 AND v2<1000) ? MovablePiece(prev, new) : v2), (playingComputer ? computer.MoveOccurred( -1,  -1, prev, v1, new, v2) : 0)"
))
(interface
(input 1
(name "prev")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "new")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "v1")
(optional yes))
(output 2
(name "v2")
(optional yes))
(output 3
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 7 CONSTANT
(properties
(name "1"))
(interface
(output 1
(name "Int32")
(lock name constraints)))
(implementation
(value Int32
(data  1))
(initValue Int32
(data  0))))
(device 8 FORMULA
(properties
(name "Move Occurred (Known)")
(expr 1
"v1 = GameBoard[prev], v2 = GameBoard[new], (playingComputer ? computer.MoveOccurred(deadPiece1, deadPiece2, prev, v1, new, v2) : 0)"
))
(interface
(input 1
(name "prev")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "new")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "v1")
(optional yes))
(output 2
(name "v2")
(optional yes))
(output 3
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 9 CALL
(properties
(name "Call playerAttack")
(callFunc "playerAttack")
(parmMode rev30))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "attackerPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 3
(name "defenderPos")
(optional yes))
(output 1
(name "PlayAgain")
(lock name constraints)
(optional yes))))
(device 10 FORMULA
(properties
(name "board.HidePlayerMovePrompt(1)")
(expr 1 "board.hidePlayerMovePrompt(1)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 11 FORMULA
(properties
(name "board.ShowPlayerMovePrompt(1)")
(expr 1 "board.showPlayerMovePrompt(1, myPlayerNumber)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 12 NOTE
(properties
(name "Comment")
(text2 6 "This has to be a UserFunction" "because of a BUG in declare"
"variable (local-to-library)." "Main and it\'s descendent UOs"
"are not privy to these variables." "")))
(device 14 CALL
(properties
(name "Call network.SendPlayer1Move")
(callFunc "network.SendPlayer1Move")
(parmMode rev30))
(interface
(input 1
(name "fromSquare")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "toSquare")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))))
(device 15 IFTHENELSE
(properties
(name "networked game?")
(cases 1 " NOT playingComputer"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(configuration
(connect D9:0 D0:0)
(connect D0:1 D1:1)
(connect D12:0 D2:0)
(connect D1:2 D2:1)
(connect D2:2 D3:0)
(connect D1:1 D3:1)
(connect D1:2 D3:2)
(connect D3:0 D4:0)
(connect D1:1 D4:1)
(connect D1:2 D4:2)
(connect D2:1 D5:0)
(connect D7:0 D6:0)
(connect D1:1 D6:1)
(connect D1:2 D6:2)
(connect D5:1 D7:1)
(connect D1:1 D7:2)
(connect D1:2 D7:3)
(connect D1:0 D8:0)
(connect D12:1 D11:0)
(connect D1:1 D11:1)
(connect D1:2 D11:2)
(connect D1:1 D12:0)
(connect D7:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 1175 543)
(anchorPt 45 99)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 83 16))
(open
(extent 110 32))
(terminals on)
(pinCenter 100 130))
(devCarrierFor 2
(active icon)
(icon
(extent 166 34))
(open
(extent 203 83))
(terminals on)
(pinCenter 250 130))
(devCarrierFor 4
(active icon)
(icon
(extent 253 25))
(open
(extent 202 57))
(terminals on)
(pinCenter 520 120))
(devCarrierFor 5
(active icon)
(icon
(extent 79 25))
(open
(extent 514 42))
(terminals on)
(pinCenter 810 190))
(devCarrierFor 6
(active icon)
(icon
(extent 194 34))
(open
(extent 1886 62))
(terminals on)
(pinCenter 810 300))
(devCarrierFor 7
(active icon)
(icon
(extent 24 16))
(open
(extent 84 30)
(showFormat int))
(pinCenter 910 90))
(devCarrierFor 8
(active icon)
(icon
(extent 168 34))
(open
(extent 1368 62))
(terminals on)
(pinCenter 1010 210))
(devCarrierFor 9
(active icon)
(icon
(extent 116 34))
(open
(extent 196 62))
(terminals on)
(pinCenter 1010 120))
(devCarrierFor 10
(active icon)
(icon
(extent 226 16))
(open
(extent 244 32))
(terminals on)
(pinCenter 250 220))
(devCarrierFor 11
(active icon)
(icon
(extent 233 16))
(open
(extent 360 32))
(terminals on)
(pinCenter 100 50))
(devCarrierFor 12
(active open)
(icon
(extent 68 0)
(iconImage "notepad.icn"))
(open
(extent 281 113)
(editing enabled))
(titleBg "Dark Yellow")
(pinCenter 950 -10))
(devCarrierFor 14
(active icon)
(icon
(extent 215 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 700 70))
(devCarrierFor 15
(active icon)
(icon
(extent 123 25))
(open
(extent 176 53))
(terminals on)
(pinCenter 520 30))
(connect D9:0 D0:0
(points 2 100 60 100 119))
(connect D0:1 D1:1
(points 2 144 130 164 130))
(connect D12:0 D2:0
(points 2 520 45 520 105))
(connect D1:2 D2:1
(points 4 335 130 360 130 360 120 391 120))
(connect D2:2 D3:0
(points 3 649 130 810 130 810 175))
(connect D1:1 D3:1
(points 6 335 120 350 120 350 140 360 140 360 180 768 180))
(connect D1:2 D3:2
(points 6 335 130 370 130 370 160 670 160 670 200 768 200))
(connect D3:0 D4:0
(points 2 810 205 810 280))
(connect D1:1 D4:1
(points 8 335 120 350 120 350 140 360 140 360 180 690 180 690 290 710 290))
(connect D1:2 D4:2
(points 8 335 130 370 130 370 160 670 160 670 200 680 200 680 310 710 310))
(connect D2:1 D5:0
(points 5 649 110 810 110 810 70 910 70 910 79))
(connect D7:0 D6:0
(points 2 1010 139 1010 190))
(connect D1:1 D6:1
(points 10 335 120 350 120 350 140 360 140 360 180 750 180 750 120 890 120 890
200 923 200))
(connect D1:2 D6:2
(points 6 335 130 370 130 370 160 870 160 870 220 923 220))
(connect D5:1 D7:1
(points 4 924 90 930 90 930 110 949 110))
(connect D1:1 D7:2
(points 8 335 120 350 120 350 140 360 140 360 180 750 180 750 120 949 120))
(connect D1:2 D7:3
(points 6 335 130 370 130 370 160 870 160 870 130 949 130))
(connect D1:0 D8:0
(points 2 250 149 250 209))
(connect D12:1 D11:0
(points 3 584 20 700 20 700 55))
(connect D1:1 D11:1
(points 8 335 120 350 120 350 110 360 110 360 70 570 70 570 60 590 60))
(connect D1:2 D11:2
(points 6 335 130 360 130 360 120 370 120 370 80 590 80))
(connect D1:1 D12:0
(points 7 335 120 350 120 350 110 360 110 360 0 520 0 520 15))
(connect D7:1 O1:1
(points 4 1070 120 1120 120 1120 172 1129 172)))
(stackingOrder 0 5 8 9 3 1 6 10 2 12 11 4 7))))
(context 0
(properties
(name "InitializeVariables")
(trigMode deg)
(nextID 31)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(deviceList
(device 0 DECLVAR
(properties
(name "Declare Global \'GameBoard\'")
(scope glob)
(globalName "GameBoard"))
(implementation
(value Int32
(numDims 1)
(size 1)
(data  [ 0 ]))))
(device 2 ALLOCATEARRAY
(properties
(name "Alloc Integer Array"))
(interface
(output 1
(name "Array")
(tag "Array")))
(implementation
(numDims 1)
(dimSizes "100")
(type "Int32")
(initEnum "Init Value")
(initialValue
(data  0))
(from 1)
(thru 10)))
(device 3 FORMULA
(properties
(name "GameBoard = ary")
(expr 1 "GameBoard = ary"))
(interface
(input 1
(name "ary")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 4 DECLVAR
(properties
(name "Declare Global \'WeightOfPiece\'")
(scope glob)
(globalName "WeightOfPiece"))
(implementation
(value Int32
(numDims 1)
(size 1)
(data  [ 0 ]))))
(device 5 CONSTANT
(properties
(name "weight"))
(interface
(output 1
(name "Int32")
(lock name constraints)))
(implementation
(value Int32
(numDims 1)
(size 41)
(data  [ 0 10 0 1 2 3 3 4 4 4 5 5 5 5 6 6 6 6 7 7 7 7 8 8 8 8 8 9 9 9 9 9 9 9 9
-100 -100 -100 -100 -100 -100 ]))
(initValue Int32
(data  0))))
(device 6 FORMULA
(properties
(name "set \'weightOfPiece\'")
(expr 1 "weightOfPiece = ary"))
(interface
(input 1
(name "ary")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 7 DECLVAR
(properties
(name "Declare Global \'TypeOfPiece\'")
(scope glob)
(globalName "TypeOfPiece"))
(implementation
(value Int32
(numDims 1)
(size 1)
(data  [ 0 ]))))
(device 8 CONSTANT
(properties
(name "type")
(sizeFixed 1))
(interface
(output 1
(name "Int32")
(lock name constraints)))
(implementation
(value Int32
(numDims 1)
(size 40)
(data  [ 0 1 2 3 4 4 5 5 5 6 6 6 6 7 7 7 7 8 8 8 8 9 9 9 9 9 10 10 10 10 10 10
10 10 11 11 11 11 11 11 ]))
(initValue Int32
(data  0))))
(device 9 FORMULA
(properties
(name "set \'TypeOfPiece\'")
(expr 1 "TypeOfPiece = ary"))
(interface
(input 1
(name "ary")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 10 DECLVAR
(properties
(name "Declare Global \'player1Color\'")
(scope glob)
(globalName "player1Color"))
(implementation
(value Text
(data  ""))))
(device 11 DECLVAR
(properties
(name "Declare Global \'player2Color\'")
(scope glob)
(globalName "player2Color"))
(implementation
(value Text
(data  ""))))
(device 12 FORMULA
(properties
(name "player1Color = blue")
(expr 1 "player1Color = \"blue\""))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 13 FORMULA
(properties
(name "player2Color = opposite")
(expr 1 "player2Color = (player1Color==\"red\" ? \"blue\" : \"red\")"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 14 NOTE
(properties
(name "Comment")
(text2 14 "Piece Type        Type" "----------        ----"
"Flag              0" "Spy               1" "Marshal (1)       2"
"General (2)       3" "Colonel (3)       4" "Major   (4)       5"
"Captain (5)       6" "Lieutenant (6)    7" "Sergeant (7)      8"
"Miner (8)         9" "Scout (9)         10" "Bomb              11")))
(device 15 NOTE
(properties
(name "Comment")
(text2 14 "Piece Type        Weight" "----------        ------"
"Flag              10" "Spy               1" "Marshal (1)       2"
"General (2)       3" "Colonel (3)       4" "Major   (4)       5"
"Captain (5)       6" "Lieutenant (6)    7" "Sergeant (7)      8"
"Miner (8)         9" "Scout (9)         10" "Bomb              -100")))
(device 16 DECLVAR
(properties
(name "Declare Variable \'deadPiece2\'")
(scope lib)
(globalName "deadPiece2"))
(implementation
(value Int32
(data  0))))
(device 17 DECLVAR
(properties
(name "Declare Variable \'deadPiece1\'")
(scope lib)
(globalName "deadPiece1"))
(implementation
(value Int32
(data  0))))
(device 18 CALL
(properties
(name "Call computer.Initialize")
(callFunc "computer.Initialize")
(parmMode rev30)))
(device 19 DECLVAR
(properties
(name "Declare Global \'player1Name\'")
(scope glob)
(globalName "player1Name"))
(implementation
(value Text
(data  ""))))
(device 20 DECLVAR
(properties
(name "Declare Global \'player2Name\'")
(scope glob)
(globalName "player2Name"))
(implementation
(value Text
(data  ""))))
(device 21 DECLVAR
(properties
(name "Declare Global \'myPlayerNumber\'")
(scope glob)
(globalName "myPlayerNumber"))
(implementation
(value Int32
(data  0))))
(device 22 DECLVAR
(properties
(name "Declare Variable \'playingComputer\'")
(scope glob)
(globalName "playingComputer"))
(implementation
(value Int32
(data  0))))
(device 23 FORMULA
(properties
(name "playingComputer = FALSE")
(expr 1 "playingComputer = 0"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 24 FORMULA
(properties
(name "myPlayerNumber = 1")
(expr 1 "myPlayerNumber = 1"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 25 CALL
(properties
(name "Call CreateBorderSquaresArray2")
(callFunc "CreateBorderSquaresArray2")
(parmMode rev30)))
(device 26 DECLVAR
(properties
(name "Declare Global \'BorderSquares\'")
(scope glob)
(globalName "borderSquares"))
(implementation
(value Int32
(numDims 2)
(size 1 1)
(data  [ [ 0 ] ]))))
(device 27 CALL
(properties
(name "Call computer.Initialize")
(callFunc "computer.Initialize")
(parmMode rev30)))
(device 28 DECLVAR
(properties
(name "Declare \'MoveNumber\'")
(scope lib)
(globalName "MoveNumber"))
(implementation
(value Int32
(data  0))))
(device 29 FORMULA
(properties
(name "MoveNumber = 1")
(expr 1 "MoveNumber = 1")))
(device 30 FORMULA
(properties
(name "Hide Move Number")
(expr 1 "board.HideMoveNumber()")))
(configuration
(connect D1:1 D2:1)
(connect D4:1 D5:1)
(connect D7:1 D8:1)
(connect D11:0 D12:0)))
(contextCarrier
(active detail)
(detail
(extent 1054 765)
(anchorPt 11 -8)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 198 16))
(open
(extent 234 107))
(pinCenter 120 50))
(devCarrierFor 2
(active icon)
(icon
(extent 127 16))
(open
(extent 208 117))
(terminals on)
(pinCenter 120 110))
(devCarrierFor 3
(active icon)
(icon
(extent 123 16))
(open
(extent 146 32))
(terminals on)
(pinCenter 280 110))
(devCarrierFor 4
(active icon)
(icon
(extent 217 16))
(open
(extent 253 107))
(pinCenter 380 50))
(devCarrierFor 5
(active icon)
(icon
(extent 44 16))
(open
(extent 148 398)
(showFormat int))
(font "Arial" 9)
(pinCenter 110 180))
(devCarrierFor 6
(active icon)
(icon
(extent 130 16))
(open
(extent 160 32))
(terminals on)
(pinCenter 240 180))
(devCarrierFor 7
(active icon)
(icon
(extent 204 16))
(open
(extent 253 107))
(pinCenter 380 80))
(devCarrierFor 8
(active icon)
(icon
(extent 31 16))
(open
(extent 133 407)
(showFormat int))
(font "Arial" 9)
(pinCenter 100 220))
(devCarrierFor 9
(active icon)
(icon
(extent 122 16))
(open
(extent 160 32))
(terminals on)
(pinCenter 220 220))
(devCarrierFor 10
(active icon)
(icon
(extent 203 16))
(open
(extent 253 107))
(pinCenter 480 110))
(devCarrierFor 11
(active icon)
(icon
(extent 203 16))
(open
(extent 253 107))
(pinCenter 480 150))
(devCarrierFor 12
(active icon)
(icon
(extent 136 16))
(open
(extent 168 32))
(terminals on)
(pinCenter 480 200))
(devCarrierFor 13
(active icon)
(icon
(extent 166 16))
(open
(extent 365 32))
(terminals on)
(pinCenter 480 240))
(devCarrierFor 14
(active open)
(icon
(extent 68 0)
(iconImage "notepad.icn"))
(open
(extent 195 213)
(editing enabled))
(titleBg "Dark Yellow")
(pinCenter 100 400))
(devCarrierFor 15
(active open)
(icon
(extent 68 0)
(iconImage "notepad.icn"))
(open
(extent 218 227)
(editing enabled))
(titleBg "Dark Yellow")
(pinCenter 320 410))
(devCarrierFor 16
(active icon)
(icon
(extent 209 16))
(open
(extent 253 107))
(pinCenter 610 360))
(devCarrierFor 17
(active icon)
(icon
(extent 209 16))
(open
(extent 253 107))
(pinCenter 600 320))
(devCarrierFor 18
(active icon)
(icon
(extent 154 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 580 410))
(devCarrierFor 19
(active icon)
(icon
(extent 205 16))
(open
(extent 253 107))
(pinCenter 600 460))
(devCarrierFor 20
(active icon)
(icon
(extent 205 16))
(open
(extent 253 107))
(pinCenter 600 490))
(devCarrierFor 21
(active icon)
(icon
(extent 232 16))
(open
(extent 268 107))
(pinCenter 610 530))
(devCarrierFor 22
(active icon)
(icon
(extent 244 16))
(open
(extent 280 107))
(pinCenter 650 50))
(devCarrierFor 23
(active icon)
(icon
(extent 183 16))
(open
(extent 165 32))
(terminals on)
(pinCenter 680 200))
(devCarrierFor 24
(active icon)
(icon
(extent 144 16))
(open
(extent 165 32))
(terminals on)
(pinCenter 640 580))
(devCarrierFor 25
(active icon)
(icon
(extent 229 16))
(open
(extent 205 53))
(terminals on)
(pinCenter 360 580))
(devCarrierFor 26
(active icon)
(icon
(extent 220 16))
(open
(extent 268 107))
(pinCenter 350 550))
(devCarrierFor 27
(active icon)
(icon
(extent 154 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 630 620))
(devCarrierFor 28
(active icon)
(icon
(extent 156 16))
(open
(extent 253 107))
(pinCenter 710 100))
(devCarrierFor 29
(active icon)
(icon
(extent 117 16))
(open
(extent 141 32))
(terminals on)
(pinCenter 710 130))
(devCarrierFor 30
(active icon)
(icon
(extent 130 16))
(open
(extent 196 32))
(terminals on)
(pinCenter 190 660))
(connect D1:1 D2:1
(points 2 186 110 216 110))
(connect D4:1 D5:1
(points 2 134 180 172 180))
(connect D7:1 D8:1
(points 2 118 220 156 220))
(connect D11:0 D12:0
(points 2 480 210 480 229)))
(stackingOrder 0 1 2 11 9 10 12 8 7 13 14 3 4 5 15 6 17 16 18 19 22 21 20 25 24
26 27 29 23 28))))
(context 6
(properties
(name "IntroPanel")
(trigMode deg)
(nextID 1)
(popupTitleText "")
(popupMoveable 1)
(showPopupTitle 0)
(showPopupBorder 0))
(deviceList
(device 0 LABEL
(properties
(name "StraVEEgo")
(labelValue "StraVEEgo"))
(implementation))
(configuration))
(contextCarrier
(active panel)
(panel
(extent 813 195)
(drawGrid "off")
(widget 0 detail
(relativeOrigin 0 0)
(bg "Med Teal")
(fg "Pale Yellow")
(font "Arial" 128 italic)
(PID 0)
(title off)
(tabStop off)
(tabIndex 0)
(borderStyle none)
(extent 727 181)
(just c))
(panelBg "Med Teal"))
(detail
(extent 834 481)
(anchorPt 0 0)
(configuration
(devCarrierFor 0
(active open)
(icon
(extent 75 0))
(open
(extent 727 181)
(just l))
(title off)
(bg "Med Light Teal")
(fg "Pale Yellow")
(font "Arial" 128 italic)
(pinCenter 390 230))))))
(context 24
(properties
(name "InvertGameBoard")
(trigMode deg)
(nextID 3)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(input 1
(name "GameBoard")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(type data)
(name "InvertedGameBoard")
(lock constraints)
(optional yes)))
(deviceList
(device 0 FORCOUNT
(properties
(count 100))
(interface
(output 1
(name "Count")
(lock name constraints))))
(device 1 COLLECTOR
(properties
(output1D 0))
(interface
(input 1
(name "Data")
(tag "Data"))
(input 2
(type trigger)
(name "XEQ")
(lock name constraints))
(output 1
(name "Array")
(tag "Array"))))
(device 2 FORMULA
(properties
(name "setup[99-i]")
(expr 1 "setup[99-i]"))
(interface
(input 1
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "setup")
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D2:1 D1:1)
(connect D0:0 D1:2)
(connect D0:1 D2:1)
(connect I1:1 D2:2)
(connect D1:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 388 343)
(anchorPt 0 9)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 70 52)
(iconImage "loop.icn"))
(open
(extent 106 32))
(pinCenter 100 140))
(devCarrierFor 1
(active icon)
(icon
(extent 61 25))
(open)
(terminals on)
(pinCenter 330 150))
(devCarrierFor 2
(active icon)
(icon
(extent 73 25))
(open
(extent 121 51))
(terminals on)
(pinCenter 210 150))
(connect D2:1 D1:1
(points 4 249 150 270 150 270 140 297 140))
(connect D0:0 D1:2
(points 5 100 168 100 190 270 190 270 160 297 160))
(connect D0:1 D2:1
(points 2 137 140 171 140))
(connect I1:1 D2:2
(points 6 0 162 10 162 10 90 160 90 160 160 171 160))
(connect D1:1 O1:1
(points 4 363 150 380 150 380 162 387 162)))
(stackingOrder 1 2 0))))
(context 23
(properties
(name "InvertPlayer2Setup")
(trigMode deg)
(nextID 3)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(input 1
(name "setup")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(type data)
(name "InvertedSetup")
(lock constraints)
(optional yes)))
(deviceList
(device 0 FORCOUNT
(properties
(count 40))
(interface
(output 1
(name "Count")
(lock name constraints))))
(device 1 COLLECTOR
(properties
(output1D 0))
(interface
(input 1
(name "Data")
(tag "Data"))
(input 2
(type trigger)
(name "XEQ")
(lock name constraints))
(output 1
(name "Array")
(tag "Array"))))
(device 2 FORMULA
(properties
(name "setup[39-i]")
(expr 1 "setup[39-i]"))
(interface
(input 1
(name "i")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "setup")
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D2:1 D1:1)
(connect D0:0 D1:2)
(connect D0:1 D2:1)
(connect I1:1 D2:2)
(connect D1:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 458 343)
(anchorPt 0 9)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 70 52)
(iconImage "loop.icn"))
(open
(extent 106 32))
(pinCenter 100 140))
(devCarrierFor 1
(active icon)
(icon
(extent 61 25))
(open)
(terminals on)
(pinCenter 330 150))
(devCarrierFor 2
(active icon)
(icon
(extent 73 25))
(open
(extent 121 51))
(terminals on)
(pinCenter 210 150))
(connect D2:1 D1:1
(points 4 249 150 270 150 270 140 297 140))
(connect D0:0 D1:2
(points 5 100 168 100 190 270 190 270 160 297 160))
(connect D0:1 D2:1
(points 2 137 140 171 140))
(connect I1:1 D2:2
(points 4 0 162 160 162 160 160 171 160))
(connect D1:1 O1:1
(points 4 363 150 380 150 380 162 457 162)))
(stackingOrder 2 1 0))))
(context 7
(properties
(name "InvisiblePanel")
(trigMode deg)
(nextID 1)
(popupTitleText "")
(popupMoveable 1)
(showPopupTitle 0)
(showPopupBorder 0))
(deviceList
(configuration))
(contextCarrier
(active panel)
(panel
(extent 657 181)
(drawGrid "off")
(panelBg "Med Teal"))
(detail
(extent 834 481)
(anchorPt 0 0)
(configuration))))
(context 10
(properties
(name "MovablePiece")
(trigMode deg)
(nextID 5)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(input 1
(name "from")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "to")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(type data)
(name "Piece")
(lock constraints)
(optional yes)))
(deviceList
(device 0 IFTHENELSE
(properties
(name "moved a single square?")
(cases 1 "abs(from-to)==10 OR abs(from-to)==1"))
(interface
(input 1
(name "from")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "to")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 1 CONSTANT
(properties
(name "-2"))
(interface
(output 1
(name "Int32")
(lock name constraints)))
(implementation
(value Int32
(data  -2))
(initValue Int32
(data  0))))
(device 2 JUNCTION
(properties
(name "JCT"))
(interface
(input 1
(name "A"))
(input 2
(name "B"))
(output 1
(name "Data"))))
(device 4 FORMULA
(properties
(name "Piece #")
(expr 1 "GameBoard[to]"))
(interface
(input 1
(name "to")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect I1:1 D0:1)
(connect I2:1 D0:2)
(connect D0:1 D1:0)
(connect D1:1 D2:1)
(connect D3:1 D2:2)
(connect D0:2 D3:0)
(connect I2:1 D3:1)
(connect D2:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 491 249)
(anchorPt -4 -91)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 166 25))
(open
(extent 273 53))
(terminals on)
(pinCenter 150 190))
(devCarrierFor 1
(active icon)
(icon
(extent 24 16))
(open
(extent 84 30)
(showFormat int))
(pinCenter 300 200))
(devCarrierFor 2
(active icon)
(icon
(extent 29 25))
(open)
(terminals on)
(pinCenter 370 220))
(devCarrierFor 4
(active icon)
(icon
(extent 51 16))
(open
(extent 146 32))
(terminals on)
(pinCenter 260 250))
(connect I1:1 D0:1
(points 4 4 155 10 155 10 180 64 180))
(connect I2:1 D0:2
(points 6 4 275 10 275 10 250 30 250 30 200 64 200))
(connect D0:1 D1:0
(points 5 235 180 260 180 260 170 300 170 300 189))
(connect D1:1 D2:1
(points 4 314 200 330 200 330 210 353 210))
(connect D3:1 D2:2
(points 4 288 250 310 250 310 230 353 230))
(connect D0:2 D3:0
(points 3 235 200 260 200 260 239))
(connect I2:1 D3:1
(points 4 4 275 10 275 10 250 232 250))
(connect D2:1 O1:1
(points 4 387 220 440 220 440 215 494 215)))
(stackingOrder 2 1 3 0))))
(context 41
(properties
(name "OpenPreviousGame")
(trigMode deg)
(nextID 23)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "OK")
(lock constraints)
(optional yes)))
(deviceList
(device 0 FILESELECT
(properties
(name "File Name Selection")
(prompt "Enter File Name:")
(initialDirectory "\\tmp")
(initialFile "*.str")
(dialogMode Reading))
(interface
(output 1
(name "File Name")
(lock name constraints))
(output 2
(name "Cancel")
(lock name constraints)))
(implementation))
(device 2 GATE
(interface
(input 1
(name "A")
(tag "InData"))
(output 1
(name "X"))))
(device 4 FROMFILE
(properties
(transactions 1 "READ TEXT board INT32 ARRAY:100"))
(interface
(input 1
(type control)
(name "File Name")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes))
(output 1
(name "board")
(optional yes)))
(implementation
(attr iopath file read "D:\\tmp\\game1_31.str"
(readTerm "\n")
(fs "\r\n")
(eol "\r\n")
(multiField fullSyntax)
(arrayFormat block))))
(device 5 FORMULA
(properties
(name "set \'GameBoard\'")
(expr 1 "GameBoard = ary"))
(interface
(input 1
(name "ary")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))))
(device 6 CALL
(properties
(name "Call board.ShowBoardStuff")
(callFunc "board.ShowBoardStuff")
(parmMode rev30)))
(device 8 FORMULA
(properties
(name "board.ShowGameBoard(GameBoard)")
(expr 1 "board.ShowGameBoard(GameBoard)")))
(device 9 FORMULA
(properties
(name "Call board.initialize")
(expr 1 "board.initialize()")))
(device 14 CALL
(properties
(name "Call computer.OpenGameInfo")
(callFunc "computer.OpenGameInfo")
(parmMode rev30))
(interface
(input 1
(name "FileName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))))
(device 15 FORMULA
(properties
(name "board.ShowDeadPieces()")
(expr 1 "board.ShowDeadPieces(FindDeadPieces(1), FindDeadPieces(2))")))
(device 16 CALL
(properties
(name "Call board.ShowBoard")
(callFunc "board.ShowBoard")
(parmMode rev30)))
(device 19 FORMULA
(properties
(name "playingComputer = TRUE")
(expr 1 "playingComputer = 1, player2Name = \"Computer\"")))
(device 20 CONSTANT
(properties
(name "TRUE"))
(interface
(output 1
(name "Int32")
(lock name constraints)))
(implementation
(value Int32
(data  1))
(initValue Int32
(data  0))))
(device 21 FROMFILE
(properties
(transactions 1 "READ TEXT moveNum INT32"))
(interface
(input 1
(type control)
(name "File Name")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes))
(output 1
(name "moveNum")
(optional yes)))
(implementation
(attr iopath file read "D:\\tmp\\game1_31.str"
(readTerm "\n")
(fs "\r\n")
(eol "\r\n")
(multiField fullSyntax)
(arrayFormat block))))
(device 22 FORMULA
(properties
(name "set \'MoveNumber\'")
(expr 1 "MoveNumber = moveNum"))
(interface
(input 1
(name "moveNum")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))))
(configuration
(connect D0:1 D1:1)
(connect D12:0 D2:0)
(connect D1:1 D2:1)
(connect D2:1 D3:1)
(connect D9:0 D4:0)
(connect D4:0 D5:0)
(connect D7:0 D6:0)
(connect D2:0 D7:0)
(connect D1:1 D7:1)
(connect D5:0 D8:0)
(connect D6:0 D9:0)
(connect D8:0 D10:0)
(connect D10:0 D11:0)
(connect D1:0 D12:0)
(connect D1:1 D12:1)
(connect D12:1 D13:1)
(connect D11:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 734 540)
(anchorPt -14 25)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 137 25))
(open
(extent 335 110))
(terminals on)
(pinCenter 110 70))
(devCarrierFor 2
(active icon)
(icon
(extent 35 16))
(open)
(terminals on)
(pinCenter 230 60))
(devCarrierFor 4
(active icon)
(icon
(extent 66 16))
(open
(extent 236 113))
(terminals on)
(pinCenter 370 100))
(devCarrierFor 5
(active icon)
(icon
(extent 115 16))
(open
(extent 146 32))
(terminals on)
(pinCenter 480 100))
(devCarrierFor 6
(active icon)
(icon
(extent 187 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 370 290))
(devCarrierFor 8
(active icon)
(icon
(extent 260 16))
(open
(extent 271 32))
(terminals on)
(pinCenter 370 340))
(devCarrierFor 9
(active icon)
(icon
(extent 129 16))
(open
(extent 134 32))
(terminals on)
(pinCenter 370 210))
(devCarrierFor 14
(active icon)
(icon
(extent 205 16))
(open
(extent 216 54))
(terminals on)
(pinCenter 370 170))
(devCarrierFor 15
(active icon)
(icon
(extent 177 16))
(open
(extent 447 32))
(terminals on)
(pinCenter 370 390))
(devCarrierFor 16
(active icon)
(icon
(extent 155 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 370 250))
(devCarrierFor 19
(active icon)
(icon
(extent 176 16))
(open
(extent 344 32))
(terminals on)
(pinCenter 370 430))
(devCarrierFor 20
(active icon)
(icon
(extent 43 14))
(open
(extent 84 30)
(showFormat int))
(pinCenter 370 472))
(devCarrierFor 21
(active icon)
(icon
(extent 66 16))
(open
(extent 216 113))
(terminals on)
(pinCenter 370 40))
(devCarrierFor 22
(active icon)
(icon
(extent 123 16))
(open
(extent 195 32))
(terminals on)
(pinCenter 490 40))
(connect D0:1 D1:1
(points 2 181 60 210 60))
(connect D12:0 D2:0
(points 2 370 50 370 89))
(connect D1:1 D2:1
(points 4 250 60 270 60 270 100 334 100))
(connect D2:1 D3:1
(points 2 405 100 420 100))
(connect D9:0 D4:0
(points 2 370 260 370 279))
(connect D4:0 D5:0
(points 2 370 300 370 329))
(connect D7:0 D6:0
(points 2 370 180 370 199))
(connect D2:0 D7:0
(points 2 370 110 370 159))
(connect D1:1 D7:1
(points 6 250 60 270 60 270 90 250 90 250 170 265 170))
(connect D5:0 D8:0
(points 2 370 350 370 379))
(connect D6:0 D9:0
(points 2 370 220 370 239))
(connect D8:0 D10:0
(points 2 370 400 370 419))
(connect D10:0 D11:0
(points 2 370 440 370 462))
(connect D1:0 D12:0
(points 8 230 70 230 80 260 80 260 50 270 50 270 10 370 10 370 29))
(connect D1:1 D12:1
(points 4 250 60 280 60 280 40 334 40))
(connect D12:1 D13:1
(points 2 405 40 426 40))
(connect D11:1 O1:1
(points 4 394 472 520 472 520 244 747 244)))
(stackingOrder 0 9 1 7 11 4 2 12 3 6 5 8 10 13))))
(context 26
(properties
(name "OpponentReadyPanel")
(trigMode deg)
(nextID 4)
(popupTitleText "")
(popupMoveable 1)
(showPopupTitle 0))
(interface
(input 1
(name "playerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes)))
(deviceList
(device 0 FORMULA
(properties
(name "\"player is ready...\"")
(expr 1 "pname+\" is ready to play.\""))
(interface
(input 1
(name "pname")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 LABEL
(properties
(name "Client is ready to play.")
(labelValue "Client is ready to play."))
(interface
(input 1
(name "Label")
(tag "Label")
(requires
(datatype Text)
(shape "Scalar"))
(lock constraints)
(optional yes)
(buffer YES)))
(implementation))
(configuration
(connect I1:1 D0:1)
(connect D0:1 D1:1)))
(contextCarrier
(active panel)
(panel
(extent 298 122)
(drawGrid "off")
(widget 1 detail
(relativeOrigin 0 20)
(bg "Green")
(fg "White")
(font "Arial" 16 bold)
(PID 0)
(title off)
(tabStop off)
(tabIndex 0)
(borderStyle none)
(extent 300 50)
(just c))
(panelBg "Green"))
(detail
(extent 739 305)
(anchorPt -3 -61)
(configuration
(devCarrierFor 0
(active open)
(icon
(extent 126 0))
(open
(extent 263 32))
(terminals on)
(pinCenter 280 250))
(devCarrierFor 2
(active open)
(icon)
(open
(extent 47 28)
(just l))
(title off)
(pinCenter 610 250))
(connect I1:1 D0:1
(points 4 3 213 10 213 10 250 96 250))
(connect D0:1 D1:1
(points 2 464 250 584 250)))
(stackingOrder 1 0))))
(context 8
(properties
(name "PlayerAttack")
(trigMode deg)
(nextID 53)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(input 1
(name "AttackingPlayerNumber")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "attackerPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 3
(name "defenderPos")
(optional yes))
(output 1
(type data)
(name "PlayAgain")
(lock constraints)
(optional yes)))
(deviceList
(device 1 FORMULA
(properties
(name "attacker piece weight")
(expr 1
"pp = GameBoard[currentPos], pp = (pp>=1000 ? pp-1000 : pp), WeightOfPiece[pp]")
)
(interface
(input 1
(name "currentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "pp")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 FORMULA
(properties
(name "defender piece weight")
(expr 1
"op = GameBoard[opponentPos], op = (op>=1000 ? op-1000 : op), WeightOfPiece[op]"
))
(interface
(input 1
(name "opponentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "op")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 3 IFTHENELSE
(properties
(name "attacker tie, win game, win piece, or lose?")
(cases 3 "attacker==defender" "defender==10"
"(defender==0 ? 1 : (defender==-100 ? attacker==8 : (attacker==0 ? defender==1 : attacker<defender)))"
))
(interface
(input 1
(name "attacker")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "defender")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else If")
(lock name constraints))
(output 3
(name "Else If")
(lock name constraints))
(output 4
(name "Else")
(lock name constraints))))
(device 32 IFTHENELSE
(properties
(name "opponent attacking?")
(cases 1 "pn!=myPlayerNumber"))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 40 CONTEXT
(properties
(name "AttackTie")
(trigMode deg)
(nextID 7)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(input 1
(name "currentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "opponentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes)))
(deviceList
(device 0 FORMULA
(properties
(name "board.RemoveDeadPieces()")
(expr 1
"board.RemoveDeadPieces(GameBoard[currentPos], currentPos, GameBoard[opponentPos], opponentPos)"
))
(interface
(input 1
(name "currentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "opponentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 1 FORMULA
(properties
(name "remove pieces from GameBoard")
(expr 1 "GameBoard[attackerIndex] = 0, GameBoard[defenderIndex] = 0"))
(interface
(input 1
(name "attackerIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "defenderIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 CALL
(properties
(name "Call board.HideOpponentPiece")
(callFunc "board.HideOpponentPiece")
(parmMode rev30)))
(device 5 FORMULA
(properties
(name "board.HideOpponentBack()")
(expr 1 "board.HideOpponentBack(GameBoard[pos])"))
(interface
(input 1
(name "pos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 6 FORMULA
(properties
(name "set \'deadPiece1\'  & \'deadPiece2\'")
(expr 1
"deadPiece1 = GameBoard[currentPos], deadPiece2 = GameBoard[opponentPos]"))
(interface
(input 1
(name "currentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "opponentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D2:0 D0:0)
(connect I1:1 D0:1)
(connect I2:1 D0:2)
(connect D0:0 D1:0)
(connect I1:1 D1:1)
(connect I2:1 D1:2)
(connect D3:0 D2:0)
(connect D4:0 D3:0)
(connect I2:1 D3:1)
(connect I2:1 D4:1)
(connect I1:1 D4:2)))
(contextCarrier
(active detail)
(detail
(extent 507 384)
(anchorPt 72 102)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 196 25))
(open
(extent 711 42))
(terminals on)
(pinCenter 180 110))
(devCarrierFor 1
(active icon)
(icon
(extent 224 25))
(open
(extent 432 42))
(terminals on)
(pinCenter 180 170))
(devCarrierFor 2
(active icon)
(icon
(extent 214 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 180 50))
(devCarrierFor 5
(active icon)
(icon
(extent 190 16))
(open
(extent 304 32))
(terminals on)
(pinCenter 180 -10))
(devCarrierFor 6
(active icon)
(icon
(extent 226 25))
(open
(extent 485 42))
(terminals on)
(pinCenter 180 -60))
(connect D2:0 D0:0
(points 2 180 65 180 95))
(connect I1:1 D0:1
(points 4 -72 -11 40 -11 40 100 79 100))
(connect I2:1 D0:2
(points 6 -72 189 10 189 10 180 50 180 50 120 79 120))
(connect D0:0 D1:0
(points 2 180 125 180 155))
(connect I1:1 D1:1
(points 4 -72 -11 40 -11 40 160 65 160))
(connect I2:1 D1:2
(points 4 -72 189 10 189 10 180 65 180))
(connect D3:0 D2:0
(points 2 180 0 180 35))
(connect D4:0 D3:0
(points 2 180 -45 180 -21))
(connect I2:1 D3:1
(points 8 -72 189 10 189 10 180 30 180 30 0 50 0 50 -10 82 -10))
(connect I2:1 D4:1
(points 6 -72 189 10 189 10 180 30 180 30 -70 64 -70))
(connect I1:1 D4:2
(points 4 -72 -11 40 -11 40 -50 64 -50)))
(stackingOrder 2 1 0 4 3))))
(device 41 CONTEXT
(properties
(name "AttackWin")
(trigMode deg)
(nextID 9)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "from")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 3
(name "to")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes)))
(deviceList
(device 0 CALL
(properties
(name "Call board.HideOpponentPiece")
(callFunc "board.HideOpponentPiece")
(parmMode rev30)))
(device 1 FORMULA
(properties
(name "board.ShowOpponentBackSlowly()")
(expr 1
"((pn!=myPlayerNumber) ? board.showOpponentBackSlowly(GameBoard[new], new) : 0)"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "new")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 FORMULA
(properties
(name "board.RemoveDeadPiece()")
(expr 1 "board.RemoveDeadPiece(GameBoard[currentPos], currentPos)"))
(interface
(input 1
(name "currentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 3 FORMULA
(properties
(name "remove piece from GameBoard")
(expr 1 "GameBoard[prevIndex] = 0"))
(interface
(input 1
(name "prevIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 4 FORMULA
(properties
(name "move piece")
(expr 1 "GameBoard[newIndex] = GameBoard[prevIndex], GameBoard[prevIndex] = 0"))
(interface
(input 1
(name "prevIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "newIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 5 FORMULA
(properties
(name "board.HideAttackingOpponentPiece()")
(expr 1
"board.HideAttackingOpponentPiece(GameBoard[pos], (pn==1 ? player1Color : player2Color))"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "pos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 6 IFTHENELSE
(properties
(name "opponent?")
(cases 1 "pn!=myPlayerNumber"))
(interface
(input 1
(name "pn")
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 7 DELAY
(properties
(delay 1))
(interface
(output 1
(name "Done"))))
(device 8 FORMULA
(properties
(name "set \'deadPiece1\' ")
(expr 1 "deadPiece1 = GameBoard[pos]"))
(interface
(input 1
(name "pos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D8:0 D0:0)
(connect D6:0 D1:0)
(connect I1:1 D1:1)
(connect I3:1 D1:2)
(connect D0:0 D2:0)
(connect I3:1 D2:1)
(connect D2:0 D3:0)
(connect I3:1 D3:1)
(connect D3:0 D4:0)
(connect I2:1 D4:1)
(connect I3:1 D4:2)
(connect D7:0 D5:0)
(connect I1:1 D5:1)
(connect I3:1 D5:2)
(connect D4:0 D6:0)
(connect I1:1 D6:1)
(connect D6:1 D7:0)
(connect I3:1 D8:1)))
(contextCarrier
(active detail)
(detail
(extent 949 624)
(anchorPt 193 -21)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 214 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 170 120))
(devCarrierFor 1
(active icon)
(icon
(extent 239 34))
(open
(extent 655 62))
(terminals on)
(pinCenter 170 520))
(devCarrierFor 2
(active icon)
(icon
(extent 189 16))
(open
(extent 456 41))
(terminals on)
(pinCenter 170 170))
(devCarrierFor 3
(active icon)
(icon
(extent 216 25))
(open
(extent 203 42))
(terminals on)
(pinCenter 170 230))
(devCarrierFor 4
(active icon)
(icon
(extent 79 25))
(open
(extent 514 42))
(terminals on)
(pinCenter 170 290))
(devCarrierFor 5
(active icon)
(icon
(extent 258 25))
(open
(extent 624 42))
(terminals on)
(pinCenter 400 440))
(devCarrierFor 6
(active icon)
(icon
(extent 74 25))
(open
(extent 239 53))
(terminals on)
(pinCenter 170 360))
(devCarrierFor 7
(active icon)
(icon
(extent 40 16))
(open
(extent 76 32))
(pinCenter 400 390))
(devCarrierFor 8
(active icon)
(icon
(extent 118 25))
(open
(extent 318 42))
(terminals on)
(pinCenter 170 70))
(connect D8:0 D0:0
(points 2 170 85 170 105))
(connect D6:0 D1:0
(points 2 170 375 170 500))
(connect I1:1 D1:1
(points 6 -193 122 -70 122 -70 340 20 340 20 510 48 510))
(connect I3:1 D1:2
(points 4 -193 542 -70 542 -70 530 48 530))
(connect D0:0 D2:0
(points 2 170 135 170 159))
(connect I3:1 D2:1
(points 8 -193 542 -70 542 -70 460 -90 460 -90 230 40 230 40 170 73 170))
(connect D2:0 D3:0
(points 2 170 180 170 215))
(connect I3:1 D3:1
(points 6 -193 542 -70 542 -70 460 -90 460 -90 230 59 230))
(connect D3:0 D4:0
(points 2 170 245 170 275))
(connect I2:1 D4:1
(points 4 -193 332 -60 332 -60 280 128 280))
(connect I3:1 D4:2
(points 8 -193 542 -70 542 -70 460 -90 460 -90 310 -50 310 -50 300 128 300))
(connect D7:0 D5:0
(points 2 400 400 400 425))
(connect I1:1 D5:1
(points 6 -193 122 -70 122 -70 340 20 340 20 430 268 430))
(connect I3:1 D5:2
(points 4 -193 542 -70 542 -70 450 268 450))
(connect D4:0 D6:0
(points 2 170 305 170 345))
(connect I1:1 D6:1
(points 6 -193 122 -70 122 -70 340 20 340 20 360 130 360))
(connect D6:1 D7:0
(points 3 209 350 400 350 400 379))
(connect I3:1 D8:1
(points 8 -193 542 -70 542 -70 460 -90 460 -90 230 40 230 40 70 108 70)))
(stackingOrder 3 4 7 2 8 6 0 5 1))))
(device 42 CONTEXT
(properties
(name "AttackLose")
(trigMode deg)
(nextID 41)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(input 1
(name "pn")
(optional yes))
(input 2
(name "opponent")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 3
(name "currentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 4
(name "pos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes)))
(deviceList
(device 1 CALL
(properties
(name "Call board.HideOpponentPiece")
(callFunc "board.HideOpponentPiece")
(parmMode rev30)))
(device 2 FORMULA
(properties
(name "board.RemoveDeadPiece()")
(expr 1 "board.RemoveDeadPiece(GameBoard[currentPos], opponentPos)"))
(interface
(input 1
(name "currentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "opponentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 3 FORMULA
(properties
(name "remove piece from GameBoard")
(expr 1 "GameBoard[prevIndex] = 0"))
(interface
(input 1
(name "prevIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 5 IFTHENELSE
(properties
(name "advance opp piece?")
(cases 1 "opponent!=-100"))
(interface
(input 1
(name "opponent")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 6 FORMULA
(properties
(name "board.MovePlayerPiece()")
(expr 1
"board.MovePlayerPiece(GameBoard[prevLoc], newLoc, prevLoc, (pn==1 ? player2Color : player1Color))"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "newLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 3
(name "prevLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 7 FORMULA
(properties
(name "advance opp piece")
(expr 1
"GameBoard[prevIndex] = GameBoard[opponentIndex], GameBoard[opponentIndex] = 0")
)
(interface
(input 1
(name "prevIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "opponentIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 19 DELAY
(properties
(delay 0.8))
(interface
(output 1
(name "Done"))))
(device 21 FORMULA
(properties
(name "board.HideOpponentBack()")
(expr 1 "(opponent!= -100 ? board.HideOpponentBack(GameBoard[pos]) : 0)"))
(interface
(input 1
(name "opponent")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "pos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 26 FORMULA
(properties
(name "board.HideOpponentPieceSlowly()")
(expr 1
"((pn==myPlayerNumber) ? board.HideAttackingOpponentPiece(GameBoard[pos], (pn==1 ? player2Color : player1Color)) : 0)"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "pos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 27 FORMULA
(properties
(name "board.ShowOpponentBackSlowly()")
(expr 1
"((pn==myPlayerNumber) ? board.showOpponentBackSlowly(GameBoard[new], new) : 0)"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "new")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 28 FORMULA
(properties
(name "set \'deadPiece1\' ")
(expr 1 "deadPiece1 = GameBoard[pos]"))
(interface
(input 1
(name "pos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 29 CONTEXT
(properties
(name "TAZBUG")
(trigMode deg)
(nextID 2)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(input 1
(name "InputTerm")
(optional yes))
(input 2
(name "pn")
(optional yes))
(input 3
(name "opponent")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 4
(name "pos")
(optional yes)))
(deviceList
(device 0 IFTHENELSE
(properties
(name "player get bombed?")
(cases 1 "opponent==-100"))
(interface
(input 1
(name "opponent")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 1 CALL
(properties
(name "Call board.BlowUpPlayer")
(callFunc "board.BlowUpPlayer")
(parmMode rev30))
(interface
(input 1
(name "pn")
(optional yes))
(input 2
(name "pos")
(optional yes))))
(configuration
(connect I1:1 D0:0)
(connect I3:1 D0:1)
(connect D0:1 D1:0)
(connect I2:1 D1:1)
(connect I4:1 D1:2)))
(contextCarrier
(active detail)
(detail
(extent 491 163)
(anchorPt 0 0)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 138 25))
(open
(extent 137 70))
(terminals on)
(pinCenter 130 80))
(devCarrierFor 1
(active icon)
(icon
(extent 170 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 330 90))
(connect I1:1 D0:0
(points 3 0 21 130 21 130 65))
(connect I3:1 D0:1
(points 4 0 101 20 101 20 80 58 80))
(connect D0:1 D1:0
(points 5 201 70 220 70 220 60 330 60 330 75))
(connect I2:1 D1:1
(points 6 0 61 10 61 10 120 220 120 220 80 242 80))
(connect I4:1 D1:2
(points 4 0 141 230 141 230 100 242 100)))
(stackingOrder 0 1))))
(device 33 FORMULA
(properties
(name "board.HideOpponentPieceSlowly()")
(expr 1
"((pn==myPlayerNumber) ? board.HideAttackingOpponentPiece(GameBoard[pos], (pn==1 ? player2Color : player1Color)) : 0)"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "pos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 34 CALL
(properties
(name "Call board.HideOpponentPiece")
(callFunc "board.HideOpponentPiece")
(parmMode rev30)))
(device 35 FORMULA
(properties
(name "board.ShowOpponentBackSlowly()")
(expr 1
"((pn==myPlayerNumber) ? board.showOpponentBackSlowly(GameBoard[new], new) : 0)"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "new")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 38 FORMULA
(properties
(name "show real opponent piece")
(expr 1
"board.ShowPiece(GameBoard[prevLoc], (pn==1 ? player2Color : player1Color), prevLoc)"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "prevLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 39 DELAY
(properties
(delay 0.4))
(interface
(output 1
(name "Done"))))
(device 40 DELAY
(properties
(delay 0.4))
(interface
(output 1
(name "Done"))))
(configuration
(connect D6:0 D0:0)
(connect D11:0 D1:0)
(connect I3:1 D1:1)
(connect I4:1 D1:2)
(connect D7:0 D2:0)
(connect I3:1 D2:1)
(connect D2:0 D3:0)
(connect I2:1 D3:1)
(connect D0:0 D4:0)
(connect I1:1 D4:1)
(connect I3:1 D4:2)
(connect I4:1 D4:3)
(connect D4:0 D5:0)
(connect I3:1 D5:1)
(connect I4:1 D5:2)
(connect D3:1 D6:0)
(connect D1:0 D7:0)
(connect I2:1 D7:1)
(connect I4:1 D7:2)
(connect D16:0 D8:0)
(connect I1:1 D8:1)
(connect I3:1 D8:2)
(connect D8:0 D9:0)
(connect I1:1 D9:1)
(connect I3:1 D9:2)
(connect I3:1 D10:1)
(connect D10:0 D11:1)
(connect I1:1 D11:2)
(connect I2:1 D11:3)
(connect I4:1 D11:4)
(connect D17:0 D12:0)
(connect I1:1 D12:1)
(connect I4:1 D12:2)
(connect D15:0 D13:0)
(connect D12:0 D14:0)
(connect I1:1 D14:1)
(connect I4:1 D14:2)
(connect D3:2 D15:0)
(connect I1:1 D15:1)
(connect I4:1 D15:2)
(connect D5:0 D16:0)
(connect D13:0 D17:0)))
(contextCarrier
(active detail)
(detail
(extent 878 744)
(anchorPt 98 57)
(configuration
(devCarrierFor 1
(active icon)
(icon
(extent 214 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 590 380))
(devCarrierFor 2
(active icon)
(icon
(extent 189 25))
(open
(extent 446 42))
(terminals on)
(pinCenter 180 140))
(devCarrierFor 3
(active icon)
(icon
(extent 216 25))
(open
(extent 203 42))
(terminals on)
(pinCenter 180 290))
(devCarrierFor 5
(active icon)
(icon
(extent 140 25))
(open
(extent 134 70))
(terminals on)
(pinCenter 180 350))
(devCarrierFor 6
(active icon)
(icon
(extent 176 34))
(open
(extent 692 62))
(terminals on)
(pinCenter 590 440))
(devCarrierFor 7
(active icon)
(icon
(extent 132 25))
(open
(extent 581 50))
(terminals on)
(pinCenter 590 500))
(devCarrierFor 19
(active icon)
(icon
(extent 40 16))
(open
(extent 76 32))
(pinCenter 590 330))
(devCarrierFor 21
(active icon)
(icon
(extent 190 25))
(open
(extent 462 42))
(terminals on)
(pinCenter 180 210))
(devCarrierFor 26
(active icon)
(icon
(extent 237 25))
(open
(extent 893 42))
(terminals on)
(pinCenter 590 590))
(devCarrierFor 27
(active icon)
(icon
(extent 239 34))
(open
(extent 661 62))
(terminals on)
(pinCenter 590 650))
(devCarrierFor 28
(active icon)
(icon
(extent 118 25))
(open
(extent 318 42))
(terminals on)
(pinCenter 180 0))
(devCarrierFor 29
(active icon)
(icon
(extent 60 45))
(terminals on)
(pinCenter 190 70))
(devCarrierFor 33
(active icon)
(icon
(extent 237 25))
(open
(extent 893 42))
(terminals on)
(pinCenter 280 550))
(devCarrierFor 34
(active icon)
(icon
(extent 214 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 280 450))
(devCarrierFor 35
(active icon)
(icon
(extent 239 34))
(open
(extent 661 62))
(terminals on)
(pinCenter 280 610))
(devCarrierFor 38
(active icon)
(icon
(extent 178 25))
(open
(extent 600 41))
(terminals on)
(pinCenter 280 400))
(devCarrierFor 39
(active icon)
(icon
(extent 40 16))
(open
(extent 76 32))
(pinCenter 590 550))
(devCarrierFor 40
(active icon)
(icon
(extent 40 16))
(open
(extent 76 32))
(pinCenter 280 510))
(connect D6:0 D0:0
(points 2 590 340 590 365))
(connect D11:0 D1:0
(points 4 190 95 190 110 180 110 180 125))
(connect I3:1 D1:1
(points 4 -98 404 -110 404 -110 130 83 130))
(connect I4:1 D1:2
(points 8 -98 584 -90 584 -90 220 60 220 60 190 70 190 70 150 83 150))
(connect D7:0 D2:0
(points 2 180 225 180 275))
(connect I3:1 D2:1
(points 4 -98 404 -70 404 -70 290 69 290))
(connect D2:0 D3:0
(points 2 180 305 180 335))
(connect I2:1 D3:1
(points 6 -98 224 -90 224 -90 200 50 200 50 350 107 350))
(connect D0:0 D4:0
(points 2 590 395 590 420))
(connect I1:1 D4:1
(points 8 -98 44 -90 44 -90 60 60 60 60 180 420 180 420 430 499 430))
(connect I3:1 D4:2
(points 6 -98 404 -80 404 -80 490 430 490 430 440 499 440))
(connect I4:1 D4:3
(points 6 -98 584 430 584 430 510 470 510 470 450 499 450))
(connect D4:0 D5:0
(points 2 590 459 590 485))
(connect I3:1 D5:1
(points 4 -98 404 -80 404 -80 490 521 490))
(connect I4:1 D5:2
(points 4 -98 584 430 584 430 510 521 510))
(connect D3:1 D6:0
(points 5 252 340 310 340 310 300 590 300 590 319))
(connect D1:0 D7:0
(points 2 180 155 180 195))
(connect I2:1 D7:1
(points 4 -98 224 -90 224 -90 200 82 200))
(connect I4:1 D7:2
(points 4 -98 584 -90 584 -90 220 82 220))
(connect D16:0 D8:0
(points 2 590 560 590 575))
(connect I1:1 D8:1
(points 10 -98 44 -90 44 -90 60 60 60 60 180 420 180 420 430 450 430 450 580 469
580))
(connect I3:1 D8:2
(points 6 -98 404 -80 404 -80 490 440 490 440 600 469 600))
(connect D8:0 D9:0
(points 2 590 605 590 630))
(connect I1:1 D9:1
(points 10 -98 44 -90 44 -90 60 60 60 60 180 420 180 420 430 450 430 450 640 468
640))
(connect I3:1 D9:2
(points 6 -98 404 -80 404 -80 490 440 490 440 660 468 660))
(connect I3:1 D10:1
(points 4 -98 404 -110 404 -110 0 118 0))
(connect D10:0 D11:1
(points 5 180 15 180 30 150 30 150 50 157 50))
(connect I1:1 D11:2
(points 4 -98 44 -90 44 -90 60 157 60))
(connect I2:1 D11:3
(points 6 -98 224 -90 224 -90 200 50 200 50 70 157 70))
(connect I4:1 D11:4
(points 8 -98 584 -90 584 -90 220 60 220 60 190 70 190 70 80 157 80))
(connect D17:0 D12:0
(points 2 280 520 280 535))
(connect I1:1 D12:1
(points 8 -98 44 -90 44 -90 60 40 60 40 390 120 390 120 540 159 540))
(connect I4:1 D12:2
(points 4 -98 584 130 584 130 560 159 560))
(connect D15:0 D13:0
(points 2 280 415 280 435))
(connect D12:0 D14:0
(points 2 280 565 280 590))
(connect I1:1 D14:1
(points 10 -98 44 -90 44 -90 60 40 60 40 390 120 390 120 540 140 540 140 600 158
600))
(connect I4:1 D14:2
(points 4 -98 584 130 584 130 620 158 620))
(connect D3:2 D15:0
(points 3 252 360 280 360 280 385))
(connect I1:1 D15:1
(points 6 -98 44 -90 44 -90 60 40 60 40 390 188 390))
(connect I4:1 D15:2
(points 4 -98 584 130 584 130 410 188 410))
(connect D5:0 D16:0
(points 2 590 515 590 539))
(connect D13:0 D17:0
(points 2 280 465 280 499)))
(stackingOrder 6 10 1 5 9 4 7 11 0 13 8 3 2 15 16 17 12 14))))
(device 43 CONTEXT
(properties
(name "AttackWinGame")
(trigMode deg)
(nextID 14)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "currentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(type data)
(name "PlayAgain")
(lock constraints)
(optional yes)))
(deviceList
(device 0 CALL
(properties
(name "Call board.HideOpponentPiece")
(callFunc "board.HideOpponentPiece")
(parmMode rev30)))
(device 11 EXITPROCESS
(properties
(code 0)))
(device 12 CALL
(properties
(name "Call board.FlagCaptured")
(callFunc "board.FlagCaptured")
(parmMode rev30))
(interface
(input 1
(name "piece")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "piecePos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 3
(name "GameBoard")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "PlayAgain")
(optional yes))
(output 2
(name "Quit")
(optional yes))))
(device 13 FORMULA
(properties
(name "piece, currentPos, GameBoard")
(expr 1 "piece = GameBoard[currentPos], cp = currentPos, GameBoard"))
(interface
(input 1
(name "currentPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "piece")
(optional yes))
(output 2
(name "cp")
(optional yes))
(output 3
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D2:2 D1:0)
(connect D3:1 D2:1)
(connect D3:2 D2:2)
(connect D3:3 D2:3)
(connect D0:0 D3:0)
(connect I2:1 D3:1)
(connect D2:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 971 522)
(anchorPt 269 7)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 214 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 30 150))
(devCarrierFor 11
(active icon)
(icon
(extent 68 52)
(iconImage "stop.icn"))
(open
(extent 69 32))
(pinCenter 440 340))
(devCarrierFor 12
(active icon)
(icon
(extent 171 34))
(open
(extent 214 63))
(terminals on)
(pinCenter 270 230))
(devCarrierFor 13
(active icon)
(icon
(extent 214 34))
(open
(extent 486 62))
(terminals on)
(pinCenter 30 230))
(connect D2:2 D1:0
(points 3 358 240 440 240 440 311))
(connect D3:1 D2:1
(points 2 139 220 182 220))
(connect D3:2 D2:2
(points 2 139 230 182 230))
(connect D3:3 D2:3
(points 2 139 240 182 240))
(connect D0:0 D3:0
(points 2 30 165 30 210))
(connect I2:1 D3:1
(points 4 -269 383 -280 383 -280 230 -80 230))
(connect D2:1 O1:1
(points 4 358 220 500 220 500 253 701 253)))
(stackingOrder 0 3 2 1))))
(device 44 FORMULA
(properties
(name "deadPiece1 = deadPiece2 = -1")
(expr 1 "deadPiece1 =  -1, deadPiece2 =  -1"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 47 CONTEXT
(properties
(name "Perform Attack Motion")
(trigMode deg)
(nextID 10)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "attackPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 3
(name "newLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes)))
(deviceList
(device 1 FORMULA
(properties
(name "board.MovePlayerPiece()")
(expr 1
"board.MovePlayerPiece(GameBoard[prevLoc], newLoc, prevLoc, (pn==1 ? player1Color : player2Color))"
))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "newLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 3
(name "prevLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 DELAY
(properties
(delay 0.3))
(interface
(output 1
(name "Done"))))
(device 6 CALL
(properties
(name "Call board.HideOpponentPiece")
(callFunc "board.HideOpponentPiece")
(parmMode rev30)))
(device 8 DELAY
(properties
(delay 0.5))
(interface
(output 1
(name "Done"))))
(device 9 CALL
(properties
(name "Call ShowOpponent")
(callFunc "ShowOpponent")
(parmMode rev30))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "boardIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))))
(configuration
(connect D2:0 D0:0)
(connect I1:1 D0:1)
(connect I3:1 D0:2)
(connect I2:1 D0:3)
(connect D4:0 D1:0)
(connect D1:0 D2:0)
(connect D0:0 D3:0)
(connect I1:1 D4:1)
(connect I2:1 D4:2)))
(contextCarrier
(active detail)
(detail
(extent 850 323)
(anchorPt 268 -2)
(configuration
(devCarrierFor 1
(active icon)
(icon
(extent 176 34))
(open
(extent 692 62))
(terminals on)
(pinCenter 180 240))
(devCarrierFor 2
(active icon)
(icon
(extent 40 16))
(open
(extent 76 32))
(pinCenter 180 130))
(devCarrierFor 6
(active icon)
(icon
(extent 214 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 180 180))
(devCarrierFor 8
(active icon)
(icon
(extent 40 16))
(open
(extent 76 32))
(pinCenter 180 280))
(devCarrierFor 9
(active icon)
(icon
(extent 137 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 180 80))
(connect D2:0 D0:0
(points 2 180 190 180 220))
(connect I1:1 D0:1
(points 6 -268 53 -260 53 -260 70 50 70 50 230 89 230))
(connect I3:1 D0:2
(points 4 -268 273 -260 273 -260 240 89 240))
(connect I2:1 D0:3
(points 4 -268 163 -230 163 -230 250 89 250))
(connect D4:0 D1:0
(points 2 180 95 180 119))
(connect D1:0 D2:0
(points 2 180 140 180 169))
(connect D0:0 D3:0
(points 2 180 259 180 269))
(connect I1:1 D4:1
(points 4 -268 53 -260 53 -260 70 109 70))
(connect I2:1 D4:2
(points 4 -268 163 -240 163 -240 90 109 90)))
(stackingOrder 3 1 2 4 0))))
(device 52 FORMULA
(properties
(name "ShowOpponent()")
(expr 1 "ShowOpponent((pn==1 ? 2 : 1), pos)"))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "pos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect I2:1 D0:1)
(connect I3:1 D1:1)
(connect D8:0 D2:0)
(connect D0:2 D2:1)
(connect D1:2 D2:2)
(connect I1:1 D3:1)
(connect D2:1 D4:0)
(connect I2:1 D4:1)
(connect I3:1 D4:2)
(connect D2:3 D5:0)
(connect I1:1 D5:1)
(connect I2:1 D5:2)
(connect I3:1 D5:3)
(connect D2:4 D6:0)
(connect I1:1 D6:1)
(connect D1:2 D6:2)
(connect I2:1 D6:3)
(connect I3:1 D6:4)
(connect D2:2 D7:0)
(connect I1:1 D7:1)
(connect I3:1 D7:2)
(connect D3:0 D8:0)
(connect D3:1 D9:0)
(connect I1:1 D9:1)
(connect I2:1 D9:2)
(connect I3:1 D9:3)
(connect D3:2 D10:0)
(connect I1:1 D10:1)
(connect I3:1 D10:2)
(connect D7:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 1033 588)
(anchorPt 221 158)
(configuration
(devCarrierFor 1
(active icon)
(icon
(extent 146 25))
(open
(extent 693 42))
(terminals on)
(pinCenter -50 100))
(devCarrierFor 2
(active icon)
(icon
(extent 152 25))
(open
(extent 691 42))
(terminals on)
(pinCenter -40 150))
(devCarrierFor 3
(active icon)
(icon
(extent 288 45))
(open
(extent 689 82))
(terminals on)
(pinCenter 210 110))
(devCarrierFor 32
(active icon)
(icon
(extent 141 25))
(open
(extent 223 53))
(terminals on)
(pinCenter 210 -70))
(devCarrierFor 40
(active icon)
(icon
(extent 64 34))
(terminals on)
(pinCenter 430 70))
(devCarrierFor 41
(active icon)
(icon
(extent 69 45))
(terminals on)
(pinCenter 440 250))
(devCarrierFor 42
(active icon)
(icon
(extent 77 54))
(terminals on)
(pinCenter 440 330))
(devCarrierFor 43
(active icon)
(icon
(extent 111 45))
(terminals on)
(pinCenter 440 160))
(devCarrierFor 44
(active icon)
(icon
(extent 214 16))
(open
(extent 250 32))
(terminals on)
(pinCenter 210 40))
(devCarrierFor 47
(active icon)
(icon
(extent 152 65))
(terminals on)
(pinCenter 490 -70))
(devCarrierFor 52
(active icon)
(icon
(extent 117 25))
(open
(extent 307 42))
(terminals on)
(pinCenter 490 0))
(connect I2:1 D0:1
(points 4 -221 135 -210 135 -210 100 -126 100))
(connect I3:1 D1:1
(points 4 -221 325 -210 325 -210 150 -119 150))
(connect D8:0 D2:0
(points 2 210 50 210 85))
(connect D0:2 D2:1
(points 4 25 110 40 110 40 100 63 100))
(connect D1:2 D2:2
(points 4 38 160 50 160 50 120 63 120))
(connect I1:1 D3:1
(points 4 -221 -55 -180 -55 -180 -70 137 -70))
(connect D2:1 D4:0
(points 5 356 90 380 90 380 40 430 40 430 50))
(connect I2:1 D4:1
(points 6 -221 135 -210 135 -210 -30 340 -30 340 60 395 60))
(connect I3:1 D4:2
(points 8 -221 325 -210 325 -210 150 -150 150 -150 70 370 70 370 80 395 80))
(connect D2:3 D5:0
(points 7 356 110 370 110 370 150 360 150 360 210 440 210 440 225))
(connect I1:1 D5:1
(points 4 -221 -55 -190 -55 -190 240 403 240))
(connect I2:1 D5:2
(points 4 -221 135 -200 135 -200 250 403 250))
(connect I3:1 D5:3
(points 6 -221 325 -210 325 -210 340 360 340 360 260 403 260))
(connect D2:4 D6:0
(points 5 356 120 520 120 520 290 440 290 440 300))
(connect I1:1 D6:1
(points 6 -221 -55 -190 -55 -190 240 380 240 380 310 399 310))
(connect D1:2 D6:2
(points 4 38 160 60 160 60 320 399 320))
(connect I2:1 D6:3
(points 6 -221 135 -200 135 -200 250 370 250 370 330 399 330))
(connect I3:1 D6:4
(points 4 -221 325 88 325 88 340 399 340))
(connect D2:2 D7:0
(points 5 356 100 380 100 380 110 440 110 440 135))
(connect I1:1 D7:1
(points 8 -221 -55 -190 -55 -190 240 350 240 350 160 370 160 370 150 382 150))
(connect I3:1 D7:2
(points 8 -221 325 -210 325 -210 340 360 340 360 230 370 230 370 170 382 170))
(connect D3:0 D8:0
(points 2 210 -55 210 29))
(connect D3:1 D9:0
(points 5 283 -80 310 -80 310 -120 490 -120 490 -105))
(connect I1:1 D9:1
(points 8 -221 -55 -180 -55 -180 -70 120 -70 120 -100 300 -100 300 -90 411 -90))
(connect I2:1 D9:2
(points 6 -221 135 -210 135 -210 -30 340 -30 340 -70 411 -70))
(connect I3:1 D9:3
(points 8 -221 325 -210 325 -210 150 -150 150 -150 70 370 70 370 -50 411 -50))
(connect D3:2 D10:0
(points 5 283 -60 350 -60 350 -20 490 -20 490 -15))
(connect I1:1 D10:1
(points 10 -221 -55 -180 -55 -180 -70 120 -70 120 -100 300 -100 300 -90 390 -90
390 -10 429 -10))
(connect I3:1 D10:2
(points 8 -221 325 -210 325 -210 150 -150 150 -150 70 370 70 370 10 429 10))
(connect D7:1 O1:1
(points 4 498 160 530 160 530 135 811 135)))
(stackingOrder 0 1 2 8 3 4 10 5 9 6 7))))
(context 32
(properties
(name "PlayGame")
(trigMode deg)
(nextID 80)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "Save Game To File")
(lock constraints)
(optional yes)))
(deviceList
(device 0 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 44 EXITCONTEXT)
(device 45 EXITCONTEXT)
(device 52 CONTEXT
(properties
(name "Player 1 Move")
(trigMode deg)
(nextID 29)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "PlayAgain")
(lock constraints)
(optional yes)))
(deviceList
(device 10 IFTHENELSE
(properties
(name "playing computer or game host?")
(cases 1 "playingComputer OR myPlayerNumber==1"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 12 JUNCTION
(properties
(name "JCT"))
(interface
(input 1
(name "A")
(optional yes))
(input 2
(name "B")
(optional yes))
(input 3
(name "C")
(optional yes))
(output 1
(name "Data"))))
(device 19 CALL
(properties
(name "Call HostMove")
(callFunc "HostMove")
(parmMode rev30))
(interface
(output 1
(name "PlayAgain")
(lock name constraints)
(optional yes))))
(device 20 CALL
(properties
(name "Call ClientMove")
(callFunc "ClientMove")
(parmMode rev30))
(interface
(output 1
(name "PlayAgain")
(lock name constraints)
(optional yes))))
(device 21 IFTHENELSE
(properties
(name "Can player 1 move?")
(cases 1 "CanPlayerMove(1)"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 25 CALL
(properties
(name "Call GameOverPlayerCannotMove")
(callFunc "GameOverPlayerCannotMove")
(parmMode rev30))
(interface
(input 1
(name "losingPlayerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(input 2
(name "winningPlayerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(output 1
(name "playAgain")
(lock name constraints)
(optional yes))))
(device 27 FORMULA
(properties
(name "player 1 Name")
(expr 1 "(playingComputer ? \"You\" : player1Name)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 28 FORMULA
(properties
(name "player 2 Name")
(expr 1 "player2Name"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D4:1 D0:0)
(connect D2:1 D1:1)
(connect D3:1 D1:2)
(connect D5:1 D1:3)
(connect D0:1 D2:0)
(connect D0:2 D3:0)
(connect D6:1 D5:1)
(connect D7:1 D5:2)
(connect D4:2 D6:0)
(connect D6:0 D7:0)
(connect D1:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 684 337)
(anchorPt -12 57)
(configuration
(devCarrierFor 10
(active icon)
(icon
(extent 223 25))
(open
(extent 299 53))
(terminals on)
(pinCenter 140 120))
(devCarrierFor 12
(active icon)
(icon
(extent 29 34))
(open
(extent 12 62))
(terminals on)
(pinCenter 580 120))
(devCarrierFor 19
(active icon)
(icon
(extent 134 45))
(open
(extent 196 53))
(terminals on)
(pinCenter 350 110))
(devCarrierFor 20
(active icon)
(icon
(extent 132 50))
(open
(extent 196 53))
(terminals on)
(pinCenter 350 190))
(devCarrierFor 21
(active icon)
(icon
(extent 139 25))
(open
(extent 194 53))
(terminals on)
(pinCenter 130 -10))
(devCarrierFor 25
(active icon)
(icon
(extent 238 25))
(open
(extent 166 53))
(terminals on)
(pinCenter 470 10))
(devCarrierFor 27
(active icon)
(icon
(extent 100 16))
(open
(extent 297 32))
(terminals on)
(pinCenter 280 0))
(devCarrierFor 28
(active icon)
(icon
(extent 98 14))
(open
(extent 117 32))
(terminals on)
(pinCenter 280 30))
(connect D4:1 D0:0
(points 5 202 -20 220 -20 220 20 140 20 140 105))
(connect D2:1 D1:1
(points 2 419 110 563 110))
(connect D3:1 D1:2
(points 4 418 190 440 190 440 120 563 120))
(connect D5:1 D1:3
(points 6 591 10 610 10 610 50 540 50 540 130 563 130))
(connect D0:1 D2:0
(points 5 254 110 260 110 260 70 350 70 350 85))
(connect D0:2 D3:0
(points 5 254 130 260 130 260 150 350 150 350 162))
(connect D6:1 D5:1
(points 2 332 0 348 0))
(connect D7:1 D5:2
(points 4 331 30 340 30 340 20 348 20))
(connect D4:2 D6:0
(points 5 202 0 210 0 210 -30 280 -30 280 -11))
(connect D6:0 D7:0
(points 2 280 10 280 20))
(connect D1:1 O1:1
(points 4 597 120 620 120 620 111 695 111)))
(stackingOrder 0 3 2 1 5 6 7 4))))
(device 53 CONTEXT
(properties
(name "Player 2 Move")
(trigMode deg)
(nextID 55)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "PlayAgain")
(lock constraints)
(optional yes)))
(deviceList
(device 11 IFTHENELSE
(properties
(name "playing computer?")
(cases 1 "playingComputer"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 17 FORMULA
(properties
(name "board.ShowPlayerMovePrompt(2)")
(expr 1 "board.showPlayerMovePrompt(2, myPlayerNumber)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 18 FORMULA
(properties
(name "board.HidePlayerMovePrompt(2)")
(expr 1 "board.hidePlayerMovePrompt(2)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 19 CALL
(properties
(name "Call computer.GetMove")
(callFunc "computer.GetMove")
(parmMode rev30))
(interface
(output 1
(name "fromIndex")
(lock name constraints)
(optional yes))
(output 2
(name "toIndex")
(lock name constraints)
(optional yes))
(output 3
(name "cannotMove")
(lock name constraints)
(optional yes))))
(device 20 JUNCTION
(properties
(name "JCT"))
(interface
(input 1
(name "A"))
(input 2
(name "B"))
(output 1
(name "Data"))))
(device 21 JUNCTION
(properties
(name "JCT"))
(interface
(input 1
(name "A"))
(input 2
(name "B"))
(output 1
(name "Data"))))
(device 27 CALL
(properties
(name "Call ProcessMove")
(callFunc "ProcessMove")
(parmMode rev30))
(interface
(input 1
(name "prevLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "newLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "PlayAgain")
(lock name constraints)
(optional yes))))
(device 31 CALL
(properties
(name "Call DoClientMove")
(callFunc "DoClientMove")
(parmMode rev30))
(interface
(output 1
(name "from")
(lock name constraints)
(optional yes))
(output 2
(name "to")
(lock name constraints)
(optional yes))))
(device 48 IFTHENELSE
(properties
(name "Can player 2 move?")
(cases 1 "CanPlayerMove(2)"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 49 CALL
(properties
(name "Call GameOverPlayerCannotMove")
(callFunc "GameOverPlayerCannotMove")
(parmMode rev30))
(interface
(input 1
(name "losingPlayerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(input 2
(name "winningPlayerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(output 1
(name "playAgain")
(lock name constraints)
(optional yes))))
(device 51 JUNCTION
(properties
(name "JCT"))
(interface
(input 1
(name "A"))
(input 2
(name "B"))
(output 1
(name "Data"))))
(device 52 FORMULA
(properties
(name "player 2 Name")
(expr 1 "player2Name"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 54 FORMULA
(properties
(name "player 1 Name")
(expr 1 "(playingComputer ? \"You\" : player1Name)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D1:0 D0:0)
(connect D8:1 D1:0)
(connect D0:0 D2:0)
(connect D0:1 D3:0)
(connect D3:1 D4:1)
(connect D7:1 D4:2)
(connect D3:2 D5:1)
(connect D7:2 D5:2)
(connect D4:1 D6:1)
(connect D5:1 D6:2)
(connect D0:2 D7:0)
(connect D11:1 D9:1)
(connect D12:1 D9:2)
(connect D9:1 D10:1)
(connect D6:1 D10:2)
(connect D8:2 D11:0)
(connect D11:0 D12:0)
(connect D10:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 950 348)
(anchorPt 92 58)
(configuration
(devCarrierFor 11
(active icon)
(icon
(extent 127 25))
(open
(extent 135 53))
(terminals on)
(pinCenter 130 100))
(devCarrierFor 17
(active icon)
(icon
(extent 233 16))
(open
(extent 359 32))
(terminals on)
(pinCenter 130 40))
(devCarrierFor 18
(active icon)
(icon
(extent 226 16))
(open
(extent 244 32))
(terminals on)
(pinCenter 130 160))
(devCarrierFor 19
(active icon)
(icon
(extent 162 34))
(open
(extent 196 53))
(terminals on)
(pinCenter 360 100))
(devCarrierFor 20
(active icon)
(icon
(extent 29 34))
(open
(extent 12 62))
(terminals on)
(pinCenter 560 130))
(devCarrierFor 21
(active icon)
(icon
(extent 29 34))
(open
(extent 12 62))
(terminals on)
(pinCenter 560 230))
(devCarrierFor 27
(active icon)
(icon
(extent 124 34))
(open
(extent 196 53))
(terminals on)
(pinCenter 680 140))
(devCarrierFor 31
(active icon)
(icon
(extent 127 45))
(open
(extent 196 53))
(terminals on)
(pinCenter 360 230))
(devCarrierFor 48
(active icon)
(icon
(extent 139 25))
(open
(extent 194 53))
(terminals on)
(pinCenter 40 0))
(devCarrierFor 49
(active icon)
(icon
(extent 238 25))
(open
(extent 166 53))
(terminals on)
(pinCenter 400 -10))
(devCarrierFor 51
(active icon)
(icon
(extent 29 25))
(open)
(terminals on)
(pinCenter 790 100))
(devCarrierFor 52
(active icon)
(icon
(extent 98 14))
(open
(extent 117 32))
(terminals on)
(pinCenter 200 -16))
(devCarrierFor 54
(active icon)
(icon
(extent 100 16))
(open
(extent 297 32))
(terminals on)
(pinCenter 200 10))
(connect D1:0 D0:0
(points 2 130 50 130 85))
(connect D8:1 D1:0
(points 5 112 -10 120 -10 120 20 130 20 130 29))
(connect D0:0 D2:0
(points 2 130 115 130 149))
(connect D0:1 D3:0
(points 5 196 90 260 90 260 60 360 60 360 80))
(connect D3:1 D4:1
(points 4 443 90 460 90 460 120 543 120))
(connect D7:1 D4:2
(points 6 426 220 440 220 440 210 460 210 460 140 543 140))
(connect D3:2 D5:1
(points 4 443 100 450 100 450 220 543 220))
(connect D7:2 D5:2
(points 2 426 240 543 240))
(connect D4:1 D6:1
(points 2 577 130 615 130))
(connect D5:1 D6:2
(points 4 577 230 600 230 600 150 615 150))
(connect D0:2 D7:0
(points 5 196 110 260 110 260 140 360 140 360 205))
(connect D11:1 D9:1
(points 4 251 -16 264 -16 264 -20 278 -20))
(connect D12:1 D9:2
(points 4 252 10 260 10 260 0 278 0))
(connect D9:1 D10:1
(points 4 521 -10 540 -10 540 90 773 90))
(connect D6:1 D10:2
(points 4 744 140 760 140 760 110 773 110))
(connect D8:2 D11:0
(points 5 112 10 130 10 130 -50 200 -50 200 -26))
(connect D11:0 D12:0
(points 2 200 -7 200 -1))
(connect D10:1 O1:1
(points 4 807 100 830 100 830 115 857 115)))
(stackingOrder 2 0 3 1 5 4 7 10 6 11 9 12 8))))
(device 54 FORMULA
(properties
(name "set player names")
(expr 1
"board.SetPlayer1Name((playingComputer ? \"Your\" : player1Name+\"\\\'s\")), board.SetPlayer2Name(player2Name+\"\\\'s\")"
))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 56 CONTEXT
(properties
(name "Debug Options")
(trigMode deg)
(nextID 38)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "Save Game")
(lock constraints)
(optional yes)))
(deviceList
(device 0 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 1 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 2 CONFIRM25
(properties
(name "F3:OK")
(enterButton 0)
(escapeButton 0)
(isAssigned2FKey F3))
(interface
(output 1
(name "Go")
(lock name constraints)))
(implementation))
(device 5 CONFIRM25
(properties
(name "F2:OK")
(enterButton 0)
(escapeButton 0)
(isAssigned2FKey F2))
(interface
(output 1
(name "Go")
(lock name constraints)))
(implementation))
(device 6 CONFIRM25
(properties
(name "F4:OK")
(enterButton 0)
(escapeButton 0)
(isAssigned2FKey F4))
(interface
(output 1
(name "Go")
(lock name constraints)))
(implementation))
(device 7 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 9 CONFIRM25
(properties
(name "F5:OK")
(enterButton 0)
(escapeButton 0)
(isAssigned2FKey F5))
(interface
(output 1
(name "Go")
(lock name constraints)))
(implementation))
(device 10 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 11 CALL
(properties
(name "Call board.ToggleDisplayIndices")
(callFunc "board.ToggleDisplayIndices")
(parmMode rev30)))
(device 13 CONFIRM25
(properties
(name "F6:OK")
(enterButton 0)
(escapeButton 0)
(isAssigned2FKey F6))
(interface
(output 1
(name "Go")
(lock name constraints)))
(implementation))
(device 14 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 16 CONFIRM25
(properties
(name "F7:OK")
(enterButton 0)
(escapeButton 0)
(isAssigned2FKey F7))
(interface
(output 1
(name "Go")
(lock name constraints)))
(implementation))
(device 26 IFTHENELSE
(properties
(name "playingComputer")
(cases 1 "playingComputer"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 27 IFTHENELSE
(properties
(name "playingComputer")
(cases 1 "playingComputer"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 31 CONTEXT
(properties
(name "Show Computer View")
(trigMode deg)
(nextID 4)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 FORMULA
(properties
(name "show known computer pieces")
(expr 1 "\"ShowKnownStuff(2, computer.computerKnownBoard())\""))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 1 FORMULA
(properties
(name "call SYNCHRONOUSLY")
(expr 1 "ShowKnownStuff(2, computer.knownBoard())"))
(interface
(input 1
(type control)
(name "Formula")
(tag "Formula")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 FORMULA
(properties
(name "enable player 1 pieces")
(expr 1 "\"board.EnablePlayerPieces(1, GameBoard)\""))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 3 FORMULA
(properties
(name "call SYNCHRONOUSLY")
(expr 1 "board.EnablePlayerPieces(1, GameBoard)"))
(interface
(input 1
(type control)
(name "Formula")
(tag "Formula")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D0:0 D1:0)
(connect D0:1 D1:1)
(connect D1:0 D2:0)
(connect D2:0 D3:0)
(connect D2:1 D3:1)))
(contextCarrier
(active detail)
(detail
(extent 759 194)
(anchorPt -1 0)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 202 16))
(open
(extent 464 32))
(terminals on)
(pinCenter 160 70))
(devCarrierFor 1
(active icon)
(icon
(extent 161 16))
(open
(extent 269 40))
(terminals on)
(pinCenter 390 70))
(devCarrierFor 2
(active icon)
(icon
(extent 157 16))
(open
(extent 313 32))
(terminals on)
(pinCenter 390 120))
(devCarrierFor 3
(active icon)
(icon
(extent 161 16))
(open
(extent 117 32))
(terminals on)
(pinCenter 600 120))
(connect D0:0 D1:0
(points 6 160 80 160 100 280 100 280 40 390 40 390 59))
(connect D0:1 D1:1
(points 2 263 70 307 70))
(connect D1:0 D2:0
(points 2 390 80 390 109))
(connect D2:0 D3:0
(points 6 390 130 390 150 490 150 490 90 600 90 600 109))
(connect D2:1 D3:1
(points 2 471 120 517 120)))
(stackingOrder 2 3 1 0))))
(device 32 CONTEXT
(properties
(name "Show Player View")
(trigMode deg)
(nextID 2)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 FORMULA
(properties
(name "show known player pieces")
(expr 1 "\"ShowKnownStuff(1, computer.OpponentKnownBoard())\""))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 1 FORMULA
(properties
(name "call SYNCHRONOUSLY")
(expr 1 "ShowKnownStuff(1, computer.OpponentKnownBoard())"))
(interface
(input 1
(type control)
(name "Formula")
(tag "Formula")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D0:0 D1:0)
(connect D0:1 D1:1)))
(contextCarrier
(active detail)
(detail
(extent 498 144)
(anchorPt -2 -1)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 180 16))
(open
(extent 536 32))
(terminals on)
(pinCenter 150 70))
(devCarrierFor 1
(active icon)
(icon
(extent 161 16))
(open
(extent 117 32))
(terminals on)
(pinCenter 370 70))
(connect D0:0 D1:0
(points 6 150 80 150 100 260 100 260 40 370 40 370 59))
(connect D0:1 D1:1
(points 2 242 70 287 70)))
(stackingOrder 0 1))))
(device 33 CONTEXT
(properties
(name "Show All Pieces")
(trigMode deg)
(nextID 2)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 FORMULA
(properties
(name "show opponent pieces")
(expr 1 "\"ShowKnownStuff(myPlayerNumber, GameBoard)\""))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 1 FORMULA
(properties
(name "call SYNCHRONOUSLY")
(expr 1 "ShowKnownStuff(myPlayerNumber, GameBoard)"))
(interface
(input 1
(type control)
(name "Formula")
(tag "Formula")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D0:0 D1:0)
(connect D0:1 D1:1)))
(contextCarrier
(active detail)
(detail
(extent 505 144)
(anchorPt 0 0)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 155 16))
(open
(extent 389 32))
(terminals on)
(pinCenter 140 70))
(devCarrierFor 1
(active icon)
(icon
(extent 161 16))
(open
(extent 117 32))
(terminals on)
(pinCenter 350 70))
(connect D0:0 D1:0
(points 6 140 80 140 100 240 100 240 40 350 40 350 59))
(connect D0:1 D1:1
(points 2 220 70 267 70)))
(stackingOrder 1 0))))
(device 34 CONTEXT
(properties
(name "Show Possible Flags")
(trigMode deg)
(nextID 2)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 FORMULA
(properties
(name "show opponent poss flag locations")
(expr 1
"\"board.ShowPossFlagLocs(1, computer.possibleOpponentFlagPositions())\""))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 1 FORMULA
(properties
(name "call SYNCHRONOUSLY")
(expr 1 "board.ShowPossFlagLocs(1, computer.possibleOppFlagPositions())"))
(interface
(input 1
(type control)
(name "Formula")
(tag "Formula")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D0:0 D1:0)
(connect D0:1 D1:1)))
(contextCarrier
(active detail)
(detail
(extent 557 144)
(anchorPt -1 0)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 238 16))
(open
(extent 471 32))
(terminals on)
(pinCenter 180 70))
(devCarrierFor 1
(active icon)
(icon
(extent 161 16))
(open
(extent 117 32))
(terminals on)
(pinCenter 400 70))
(connect D0:0 D1:0
(points 6 180 80 180 100 310 100 310 40 400 40 400 59))
(connect D0:1 D1:1
(points 2 301 70 317 70)))
(stackingOrder 1 0))))
(device 36 CONSTANT
(properties
(name "TRUE"))
(interface
(output 1
(name "Int32")
(lock name constraints)))
(implementation
(value Int32
(data  1))
(initValue Int32
(data  0))))
(device 37 EXITCONTEXT)
(configuration
(connect D12:1 D0:0)
(connect D13:1 D1:0)
(connect D1:1 D2:0)
(connect D0:1 D3:0)
(connect D5:1 D4:0)
(connect D7:1 D6:0)
(connect D6:1 D8:0)
(connect D10:1 D9:0)
(connect D3:1 D14:0)
(connect D2:1 D15:0)
(connect D4:1 D16:0)
(connect D9:1 D17:0)
(connect D11:1 D18:0)
(connect D18:0 D19:0)
(connect D18:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 840 618)
(anchorPt 51 -1)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 130 90))
(devCarrierFor 1
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 100 290))
(devCarrierFor 2
(active open)
(icon
(extent 45 0))
(open
(extent 47 22))
(title off)
(pinCenter 170 350))
(devCarrierFor 5
(active open)
(icon
(extent 45 0))
(open
(extent 47 22))
(title off)
(pinCenter 180 160))
(devCarrierFor 6
(active open)
(icon
(extent 45 0))
(open
(extent 47 22))
(title off)
(pinCenter 520 340))
(devCarrierFor 7
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 450 280))
(devCarrierFor 9
(active open)
(icon
(extent 45 0))
(open
(extent 47 22))
(title off)
(pinCenter 450 100))
(devCarrierFor 10
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 380 40))
(devCarrierFor 11
(active icon)
(icon
(extent 223 16))
(open
(extent 199 53))
(terminals on)
(pinCenter 550 150))
(devCarrierFor 13
(active open)
(icon
(extent 45 0))
(open
(extent 47 22))
(title off)
(pinCenter 110 520))
(devCarrierFor 14
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 40 460))
(devCarrierFor 16
(active open)
(icon
(extent 45 0))
(open
(extent 47 22))
(title off)
(pinCenter 510 460))
(devCarrierFor 26
(active icon)
(icon
(extent 117 25))
(open
(extent 139 53))
(terminals on)
(pinCenter 60 30))
(devCarrierFor 27
(active icon)
(icon
(extent 117 25))
(open
(extent 139 53))
(terminals on)
(pinCenter 40 210))
(devCarrierFor 31
(active icon)
(icon
(extent 146 16))
(terminals on)
(pinCenter 290 210))
(devCarrierFor 32
(active icon)
(icon
(extent 122 16))
(terminals on)
(pinCenter 290 390))
(devCarrierFor 33
(active icon)
(icon
(extent 108 16))
(terminals on)
(pinCenter 610 380))
(devCarrierFor 34
(active icon)
(icon
(extent 143 16))
(terminals on)
(pinCenter 220 550))
(devCarrierFor 36
(active icon)
(icon
(extent 41 16))
(open
(extent 84 30)
(showFormat int))
(pinCenter 580 490))
(devCarrierFor 37
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 580 540))
(connect D12:1 D0:0
(points 3 121 20 130 20 130 61))
(connect D13:1 D1:0
(points 5 101 200 120 200 120 240 100 240 100 261))
(connect D1:1 D2:0
(points 3 139 290 170 290 170 336))
(connect D0:1 D3:0
(points 5 169 90 190 90 190 130 180 130 180 146))
(connect D5:1 D4:0
(points 3 489 280 520 280 520 326))
(connect D7:1 D6:0
(points 3 419 40 450 40 450 86))
(connect D6:1 D8:0
(points 3 476 100 550 100 550 139))
(connect D10:1 D9:0
(points 3 79 460 110 460 110 506))
(connect D3:1 D14:0
(points 3 206 160 290 160 290 199))
(connect D2:1 D15:0
(points 3 196 350 290 350 290 379))
(connect D4:1 D16:0
(points 3 546 340 610 340 610 369))
(connect D9:1 D17:0
(points 3 136 520 220 520 220 539))
(connect D11:1 D18:0
(points 3 536 460 580 460 580 479))
(connect D18:0 D19:0
(points 2 580 500 580 529))
(connect D18:1 O1:1
(points 4 603 490 690 490 690 309 788 309)))
(stackingOrder 0 1 3 4 5 6 7 2 10 9 11 8 12 13 14 17 18 19 15 16))))
(device 57 FORMULA
(properties
(name "show debug panel")
(expr 1 "(debug ? board.ShowDebugPanel() : 0)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 58 IFTHENELSE
(properties
(name "debug?")
(cases 1 "debug"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 62 CONTEXT
(properties
(name "ShowComputerState")
(trigMode deg)
(nextID 3)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 IFTHENELSE
(properties
(name "playing computer?")
(cases 1 "playingComputer"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 1 CALL
(properties
(name "Call computer.GetStrategyState")
(callFunc "computer.GetStrategyState")
(parmMode rev30))
(interface
(output 1
(name "state")
(optional yes))))
(device 2 CALL
(properties
(name "Call board.SetComputerState")
(callFunc "board.SetComputerState")
(parmMode rev30))
(interface
(input 1
(name "state")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))))
(configuration
(connect D0:1 D1:0)
(connect D1:1 D2:1)))
(contextCarrier
(active detail)
(detail
(extent 762 168)
(anchorPt 0 0)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 127 25))
(open
(extent 139 53))
(terminals on)
(pinCenter 130 80))
(devCarrierFor 1
(active icon)
(icon
(extent 220 16))
(open
(extent 207 56))
(terminals on)
(pinCenter 360 100))
(devCarrierFor 2
(active icon)
(icon
(extent 203 16))
(open
(extent 186 53))
(terminals on)
(pinCenter 590 100))
(connect D0:1 D1:0
(points 3 196 70 360 70 360 89))
(connect D1:1 D2:1
(points 2 472 100 486 100)))
(stackingOrder 0 2 1))))
(device 64 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 65 CALL
(properties
(name "Call board.RulesButton")
(callFunc "board.RulesButton")
(parmMode rev30))
(interface
(output 1
(name "Yes")
(optional yes))))
(device 67 CALL
(properties
(name "Call board.ShowRulesButton")
(callFunc "board.ShowRulesButton")
(parmMode rev30)))
(device 70 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 71 FILESELECT
(properties
(name "File Name Selection")
(prompt "Enter File Name:")
(initialDirectory "\\tmp")
(initialFile "*.str")
(dialogMode Writing))
(interface
(output 1
(name "File Name")
(lock name constraints))
(output 2
(name "Cancel")
(lock name constraints)))
(implementation))
(device 73 GATE
(interface
(input 1
(name "A")
(tag "InData"))
(output 1
(name "X"))))
(device 74 EXITCONTEXT)
(device 75 CALL
(properties
(name "Call board.ShowMoveNumber")
(callFunc "board.ShowMoveNumber")
(parmMode rev30)))
(device 78 FORMULA
(properties
(name "Show MoveNumber")
(expr 1 "board.MoveNumberPanel(moveNumber)")))
(device 79 FORMULA
(properties
(name "MoveNumber++")
(expr 1 "moveNumber = moveNumber+1")))
(configuration
(connect D17:0 D0:0)
(connect D3:1 D1:0)
(connect D4:1 D2:0)
(connect D9:0 D3:0)
(connect D3:0 D4:0)
(connect D7:0 D5:0)
(connect D8:1 D6:0)
(connect D13:1 D8:0)
(connect D18:0 D9:0)
(connect D10:1 D11:0)
(connect D5:0 D12:0)
(connect D6:1 D14:0)
(connect D14:1 D15:1)
(connect D15:0 D16:0)
(connect D12:0 D17:0)
(connect D0:1 D18:0)
(connect D4:0 D19:0)
(connect D15:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 693 701)
(anchorPt 27 76)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 120 170))
(devCarrierFor 44
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 490 350))
(devCarrierFor 45
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 490 430))
(devCarrierFor 52
(active icon)
(icon
(extent 111 47))
(terminals on)
(pinCenter 320 310))
(devCarrierFor 53
(active icon)
(icon
(extent 122 46))
(terminals on)
(pinCenter 320 400))
(devCarrierFor 54
(active icon)
(icon
(extent 118 16))
(open
(extent 769 32))
(terminals on)
(pinCenter 120 10))
(devCarrierFor 56
(active icon)
(icon
(extent 104 36))
(pinCenter 160 450))
(devCarrierFor 57
(active icon)
(icon
(extent 126 16))
(open
(extent 283 32))
(terminals on)
(pinCenter 120 -30))
(devCarrierFor 58
(active icon)
(icon
(extent 52 25))
(open
(extent 68 53))
(terminals on)
(pinCenter 110 380))
(devCarrierFor 62
(active icon)
(icon
(extent 141 16))
(terminals on)
(pinCenter 320 240))
(devCarrierFor 64
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 420 110))
(devCarrierFor 65
(active icon)
(icon
(extent 160 16))
(open
(extent 186 53))
(terminals on)
(pinCenter 550 160))
(devCarrierFor 67
(active icon)
(icon
(extent 198 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 120 40))
(devCarrierFor 70
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 40 320))
(devCarrierFor 71
(active icon)
(icon
(extent 137 25))
(open
(extent 335 110))
(terminals on)
(pinCenter 240 540))
(devCarrierFor 73
(active icon)
(icon
(extent 35 16))
(open)
(terminals on)
(pinCenter 390 530))
(devCarrierFor 74
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 390 580))
(devCarrierFor 75
(active icon)
(icon
(extent 204 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 120 80))
(devCarrierFor 78
(active icon)
(icon
(extent 133 16))
(open
(extent 287 32))
(terminals on)
(pinCenter 320 200))
(devCarrierFor 79
(active icon)
(icon
(extent 108 16))
(open
(extent 232 32))
(terminals on)
(pinCenter 320 460))
(connect D17:0 D0:0
(points 2 120 90 120 141))
(connect D3:1 D1:0
(points 3 378 310 490 310 490 339))
(connect D4:1 D2:0
(points 3 383 400 490 400 490 419))
(connect D9:0 D3:0
(points 2 320 250 320 284))
(connect D3:0 D4:0
(points 2 320 336 320 374))
(connect D7:0 D5:0
(points 2 120 -20 120 -1))
(connect D8:1 D6:0
(points 3 138 370 160 370 160 429))
(connect D13:1 D8:0
(points 3 79 320 110 320 110 365))
(connect D18:0 D9:0
(points 2 320 210 320 229))
(connect D10:1 D11:0
(points 3 459 110 550 110 550 149))
(connect D5:0 D12:0
(points 2 120 20 120 29))
(connect D6:1 D14:0
(points 3 214 450 240 450 240 525))
(connect D14:1 D15:1
(points 2 311 530 370 530))
(connect D15:0 D16:0
(points 2 390 540 390 569))
(connect D12:0 D17:0
(points 2 120 50 120 69))
(connect D0:1 D18:0
(points 3 159 170 320 170 320 189))
(connect D4:0 D19:0
(points 2 320 425 320 449))
(connect D15:1 O1:1
(points 4 410 530 570 530 570 274 665 274)))
(stackingOrder 0 7 5 10 3 13 8 14 15 16 1 17 9 4 2 18 19 6 11 12))))
(context 40
(properties
(name "PleaseWaitPanel")
(trigMode deg)
(nextID 1)
(popupTitleText "")
(popupMoveable 1)
(showPopupTitle 0)
(showPopupBorder 0))
(deviceList
(device 0 LABEL
(properties
(name "The Ultimate War Game . . .")
(labelValue "The Ultimate War Game . . ."))
(implementation))
(configuration))
(contextCarrier
(active panel)
(panel
(extent 414 136)
(drawGrid "off")
(widget 0 detail
(relativeOrigin 0 40)
(bg "Med Teal")
(fg "Pale Yellow")
(font "Arial" 28 bold italic)
(PID 0)
(title off)
(tabStop off)
(tabIndex 0)
(borderStyle none)
(extent 410 40)
(just c))
(panelBg "Med Teal"))
(detail
(extent 834 481)
(anchorPt 0 0)
(configuration
(devCarrierFor 0
(active open)
(icon
(extent 75 0))
(open
(extent 1604 155)
(just l))
(title off)
(bg "Med Light Teal")
(fg "Pale Yellow")
(font "Arial" 128 italic)
(pinCenter 840 220))))))
(context 28
(properties
(name "ProcessMove")
(trigMode deg)
(nextID 15)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(input 1
(name "prevLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "newLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(type data)
(name "PlayAgain")
(lock constraints)
(optional yes)))
(deviceList
(device 0 IFTHENELSE
(properties
(name "new position occupied by opponent?")
(cases 1 "GameBoard[newIndex]!=0"))
(interface
(input 1
(name "newIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 2 FORMULA
(properties
(name "move piece")
(expr 1 "GameBoard[newIndex] = GameBoard[prevIndex], GameBoard[prevIndex] = 0"))
(interface
(input 1
(name "prevIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "newIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 3 FORMULA
(properties
(name "Call MoveOccurred (stealth)")
(expr 1
"v1 = GameBoard[prev], v2 = GameBoard[new], v1 = ((v1>0 AND v1<1000) ?  -2 : v1), computer.MoveOccurred( -1,  -1, prev, v1, new, v2)"
))
(interface
(input 1
(name "prev")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "new")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "v1")
(optional yes))
(output 2
(name "v2")
(optional yes))
(output 3
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 4 CONSTANT
(properties
(name "2"))
(interface
(output 1
(name "Int32")
(lock name constraints)))
(implementation
(value Int32
(data  2))
(initValue Int32
(data  0))))
(device 6 FORMULA
(properties
(name "Call MoveOccurred (Known)")
(expr 1
"v1 = GameBoard[prev], v2 = GameBoard[new], computer.MoveOccurred(deadPiece1, deadPiece2, prev, v1, new, v2)"
))
(interface
(input 1
(name "prev")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "new")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "v1")
(optional yes))
(output 2
(name "v2")
(optional yes))
(output 3
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 7 CALL
(properties
(name "Call playerAttack")
(callFunc "playerAttack")
(parmMode rev30))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "attackerPos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 3
(name "defenderPos")
(optional yes))
(output 1
(name "PlayAgain")
(lock name constraints)
(optional yes))))
(device 8 NOTE
(properties
(name "Comment")
(text2 6 "This has to be a UserFunction" "because of a BUG in declare"
"variable (local-to-library)." "Main and it\'s descendent UOs"
"are not privy to these variables." "")))
(device 10 IFTHENELSE
(properties
(name "playing computer?")
(cases 1 "playingComputer"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 11 IFTHENELSE
(properties
(name "playing computer?")
(cases 1 "playingComputer"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 13 FORMULA
(properties
(name "Call board.MoveOpponentPiece")
(expr 1
"board.MoveOpponentPiece(0, GameBoard[newLoc], newLoc, prevLoc, player2Color)"))
(interface
(input 1
(name "newLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "prevLoc")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 14 IFTHENELSE
(properties
(name "show move?")
(cases 1 "(playingComputer ? 1 : (myPlayerNumber==1))"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(configuration
(connect I2:1 D0:1)
(connect D0:2 D1:0)
(connect I1:1 D1:1)
(connect I2:1 D1:2)
(connect D8:1 D2:0)
(connect I1:1 D2:1)
(connect I2:1 D2:2)
(connect D0:1 D3:0)
(connect D7:1 D4:0)
(connect I1:1 D4:1)
(connect I2:1 D4:2)
(connect D3:1 D5:1)
(connect I1:1 D5:2)
(connect I2:1 D5:3)
(connect D5:0 D7:0)
(connect D1:0 D8:0)
(connect D10:1 D9:0)
(connect I2:1 D9:1)
(connect I1:1 D9:2)
(connect D8:0 D10:0)
(connect D5:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 1055 520)
(anchorPt 29 -3)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 253 25))
(open
(extent 202 57))
(terminals on)
(pinCenter 180 150))
(devCarrierFor 2
(active icon)
(icon
(extent 79 25))
(open
(extent 514 42))
(terminals on)
(pinCenter 330 210))
(devCarrierFor 3
(active icon)
(icon
(extent 194 34))
(open
(extent 1334 62))
(terminals on)
(pinCenter 430 340))
(devCarrierFor 4
(active icon)
(icon
(extent 24 16))
(open
(extent 84 30)
(showFormat int))
(pinCenter 420 130))
(devCarrierFor 6
(active icon)
(icon
(extent 194 34))
(open
(extent 772 62))
(terminals on)
(pinCenter 670 250))
(devCarrierFor 7
(active icon)
(icon
(extent 116 34))
(open
(extent 196 62))
(terminals on)
(pinCenter 520 150))
(devCarrierFor 8
(active open)
(icon
(extent 68 0)
(iconImage "notepad.icn"))
(open
(extent 281 113)
(editing enabled))
(titleBg "Dark Yellow")
(pinCenter 800 110))
(devCarrierFor 10
(active icon)
(icon
(extent 127 25))
(open
(extent 139 53))
(terminals on)
(pinCenter 520 200))
(devCarrierFor 11
(active icon)
(icon
(extent 127 25))
(open
(extent 139 53))
(terminals on)
(pinCenter 330 270))
(devCarrierFor 13
(active icon)
(icon
(extent 221 25))
(open
(extent 572 42))
(terminals on)
(pinCenter 450 470))
(devCarrierFor 14
(active icon)
(icon
(extent 85 25))
(open
(extent 326 53))
(terminals on)
(pinCenter 340 410))
(connect I2:1 D0:1
(points 4 -29 392 20 392 20 150 51 150))
(connect D0:2 D1:0
(points 3 309 160 330 160 330 195))
(connect I1:1 D1:1
(points 4 -29 132 30 132 30 200 288 200))
(connect I2:1 D1:2
(points 6 -29 392 20 392 20 370 240 370 240 220 288 220))
(connect D8:1 D2:0
(points 5 396 260 420 260 420 270 430 270 430 320))
(connect I1:1 D2:1
(points 8 -29 132 30 132 30 200 120 200 120 320 270 320 270 330 330 330))
(connect I2:1 D2:2
(points 6 -29 392 20 392 20 370 300 370 300 350 330 350))
(connect D0:1 D3:0
(points 5 309 140 330 140 330 100 420 100 420 119))
(connect D7:1 D4:0
(points 3 586 190 670 190 670 230))
(connect I1:1 D4:1
(points 8 -29 132 20 132 20 120 390 120 390 160 420 160 420 240 570 240))
(connect I2:1 D4:2
(points 6 -29 392 20 392 20 370 540 370 540 260 570 260))
(connect D3:1 D5:1
(points 4 434 130 440 130 440 140 459 140))
(connect I1:1 D5:2
(points 8 -29 132 20 132 20 120 390 120 390 160 430 160 430 150 459 150))
(connect I2:1 D5:3
(points 10 -29 392 20 392 20 370 540 370 540 260 430 260 430 170 440 170 440 160
459 160))
(connect D5:0 D7:0
(points 2 520 169 520 185))
(connect D1:0 D8:0
(points 2 330 225 330 255))
(connect D10:1 D9:0
(points 3 385 400 450 400 450 455))
(connect I2:1 D9:1
(points 6 -29 392 20 392 20 370 260 370 260 460 337 460))
(connect I1:1 D9:2
(points 8 -29 132 30 132 30 200 120 200 120 320 270 320 270 480 337 480))
(connect D8:0 D10:0
(points 8 330 285 330 300 310 300 310 310 280 310 280 380 340 380 340 395))
(connect D5:1 O1:1
(points 8 580 150 610 150 610 180 680 180 680 190 790 190 790 262 1025 262)))
(stackingOrder 6 7 10 3 0 1 5 9 4 8 2))))
(context 11
(properties
(name "SaveGame")
(trigMode deg)
(nextID 17)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(input 1
(name "Filename")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes)))
(deviceList
(device 1 TOFILE
(properties
(transactions 1 "WRITE TEXT board EOL"))
(interface
(input 1
(name "board")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(input 2
(type control)
(name "File Name")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes)))
(implementation
(attr iopath file append "D:\\tmp\\game1_31.str"
(readTerm "\n")
(fs "\r\n")
(eol "\r\n")
(multiField fullSyntax)
(arrayFormat block))))
(device 2 GATE
(interface
(input 1
(name "A")
(tag "InData"))
(output 1
(name "X"))))
(device 3 FORMULA
(properties
(name "GameBoard")
(expr 1 "GameBoard"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 5 TOFILE
(properties
(name "To File (close)")
(transactions 1 "EXECUTE CLOSE"))
(interface
(input 1
(type control)
(name "File Name")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes)))
(implementation
(attr iopath file append "D:\\tmp\\game1_31.str"
(readTerm "\n")
(fs "\r\n")
(eol "\r\n")
(multiField fullSyntax)
(arrayFormat block))))
(device 10 CALL
(properties
(name "Call computer.SaveGameInfo")
(callFunc "computer.SaveGameInfo")
(parmMode rev30))
(interface
(input 1
(name "FileName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))))
(device 11 TOFILE
(properties
(name "To File (DELETE)")
(transactions 1 "EXECUTE DELETE"))
(interface
(input 1
(type control)
(name "File Name")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes)))
(implementation
(attr iopath file append "D:\\tmp\\game1_31.str"
(readTerm "\n")
(fs "\r\n")
(eol "\r\n")
(multiField fullSyntax)
(arrayFormat block))))
(device 15 DO
(interface
(output 1
(name "Do"))))
(device 16 TOFILE
(properties
(name "To File (MoveNumber)")
(transactions 1 "WRITE TEXT MoveNumber EOL"))
(interface
(input 1
(type control)
(name "File Name")
(requires
(datatype Text)
(shape "Scalar"))
(lock name constraints)
(optional yes)))
(implementation
(attr iopath file append "D:\\tmp\\game1_31.str"
(readTerm "\n")
(fs "\r\n")
(eol "\r\n")
(multiField fullSyntax)
(arrayFormat block))))
(configuration
(connect D7:0 D0:0)
(connect D2:1 D0:1)
(connect D1:1 D0:2)
(connect I1:1 D1:1)
(connect D1:0 D2:0)
(connect D4:0 D3:0)
(connect D1:1 D3:1)
(connect D0:0 D4:0)
(connect D1:1 D4:1)
(connect D6:0 D5:0)
(connect D1:1 D5:1)
(connect D1:1 D6:0)
(connect D5:0 D7:0)
(connect D1:1 D7:1)))
(contextCarrier
(active detail)
(detail
(extent 596 436)
(anchorPt -139 121)
(configuration
(devCarrierFor 1
(active icon)
(icon
(extent 48 25))
(open
(extent 256 133))
(terminals on)
(pinCenter 460 70))
(devCarrierFor 2
(active icon)
(icon
(extent 35 16))
(open)
(terminals on)
(pinCenter 250 60))
(devCarrierFor 3
(active icon)
(icon
(extent 83 16))
(open
(extent 110 32))
(terminals on)
(pinCenter 250 100))
(devCarrierFor 5
(active icon)
(icon
(extent 100 25))
(open
(extent 256 133))
(terminals on)
(pinCenter 460 250))
(devCarrierFor 10
(active icon)
(icon
(extent 202 16))
(open
(extent 205 62))
(terminals on)
(pinCenter 460 160))
(devCarrierFor 11
(active icon)
(icon
(extent 123 25))
(open
(extent 256 133))
(terminals on)
(pinCenter 460 -30))
(devCarrierFor 15
(active icon)
(icon
(extent 24 16))
(open)
(terminals on)
(pinCenter 460 -80))
(devCarrierFor 16
(active icon)
(icon
(extent 155 25))
(open
(extent 256 133))
(terminals on)
(pinCenter 460 20))
(connect D7:0 D0:0
(points 2 460 35 460 55))
(connect D2:1 D0:1
(points 4 294 100 310 100 310 60 433 60))
(connect D1:1 D0:2
(points 6 270 60 290 60 290 70 320 70 320 80 433 80))
(connect I1:1 D1:1
(points 4 139 96 150 96 150 60 230 60))
(connect D1:0 D2:0
(points 2 250 70 250 89))
(connect D4:0 D3:0
(points 2 460 170 460 235))
(connect D1:1 D3:1
(points 8 270 60 290 60 290 70 320 70 320 80 340 80 340 250 407 250))
(connect D0:0 D4:0
(points 2 460 85 460 149))
(connect D1:1 D4:1
(points 8 270 60 290 60 290 70 320 70 320 80 340 80 340 160 356 160))
(connect D6:0 D5:0
(points 2 460 -70 460 -45))
(connect D1:1 D5:1
(points 4 270 60 300 60 300 -30 396 -30))
(connect D1:1 D6:0
(points 5 270 60 300 60 300 -110 460 -110 460 -91))
(connect D5:0 D7:0
(points 2 460 -15 460 5))
(connect D1:1 D7:1
(points 4 270 60 300 60 300 20 380 20)))
(stackingOrder 1 2 5 4 3 6 0 7))))
(context 19
(properties
(name "SetUpPiecesForPlayer1")
(trigMode deg)
(nextID 87)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "LocalSetup")
(lock constraints)
(optional yes))
(output 2
(type data)
(name "AutoSetup")
(lock constraints)
(optional yes)))
(deviceList
(device 1 CALL
(properties
(name "Call network.CheckForOpponentSetup")
(callFunc "network.CheckForOpponentSetup")
(parmMode rev30))
(interface
(output 1
(name "OpponentSetup")
(optional yes))))
(device 2 FORMULA
(properties
(name "set \'RemoteSetup\'")
(expr 1
"RemoteSetup = InvertPlayer2Setup(layout)+1000, GameBoard[0:39] = remoteSetup"))
(interface
(input 1
(name "layout")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 5 FORMULA
(properties
(name "Call board.showGameBackPieces")
(expr 1 "board.ShowGameBackPieces(GameBoard[0:39], player2Color)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 8 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 9 IFTHENELSE
(properties
(name "Opponent Setup Not Completed?")
(cases 1 " NOT RemoteSetupComplete"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 11 FORMULA
(properties
(name "RemoteSetupComplete = FALSE")
(expr 1 "RemoteSetupComplete = 0"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 20 CALL
(properties
(name "Call board.ShowStartUpPanels")
(callFunc "board.ShowStartUpPanels")
(parmMode rev30)))
(device 22 CALL
(properties
(name "Call board.AutoSetupPanel")
(callFunc "board.AutoSetupPanel")
(parmMode rev30))
(interface
(output 1
(name "Setup")
(lock name constraints)
(optional yes))))
(device 28 FORMULA
(properties
(name "board.BeginGame(myPlayerNumber)")
(expr 1 "board.BeginGame(myPlayerNumber)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 37 FORMULA
(properties
(name "RemoteSetupComplete = TRUE")
(expr 1 "RemoteSetupComplete = 1"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 68 GATE
(interface
(input 1
(name "A")
(tag "InData"))
(output 1
(name "X"))))
(device 69 EXITCONTEXT)
(device 70 EXITCONTEXT)
(device 71 GATE
(interface
(input 1
(name "A")
(tag "InData"))
(output 1
(name "X"))))
(device 73 FORMULA
(properties
(name "board.TimeSlicedSetup()")
(expr 1 "board.TimeSlicedSetup(myPlayerNumber)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 76 FORMULA
(properties
(name "Show \"BeginSetupPanel\"")
(expr 1 "BeginSetupPanel(player2Name), ShowPanel(\"BeginSetupPanel\", 70, 60)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 79 FORMULA
(properties
(name "Show \"OpponentReadyPanel\"")
(expr 1
"OpponentReadyPanel(player2Name), ShowPanel(\"OpponentReadyPanel\", 150, 60)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 80 FORMULA
(properties
(name "Hide \"BeginSetupPanel\"")
(expr 1 "HidePanel(\"BeginSetupPanel\")"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 85 FORMULA
(properties
(name "Hide \"BeginSetup\" & \"OppReady\"")
(expr 1 "HidePanel(\"BeginSetupPanel\"), HidePanel(\"OpponentReadyPanel\")"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 86 FORMULA
(properties
(name "Hide \"BeginSetup\" & \"OppReady\"")
(expr 1 "HidePanel(\"BeginSetupPanel\"), HidePanel(\"OpponentReadyPanel\")"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D4:1 D0:0)
(connect D0:1 D1:1)
(connect D17:0 D2:0)
(connect D15:0 D3:0)
(connect D14:0 D4:0)
(connect D5:0 D6:0)
(connect D1:0 D9:0)
(connect D8:1 D10:1)
(connect D18:0 D11:0)
(connect D19:0 D12:0)
(connect D7:1 D13:1)
(connect D3:1 D14:0)
(connect D6:0 D15:0)
(connect D2:0 D16:0)
(connect D9:0 D17:0)
(connect D10:0 D18:0)
(connect D13:0 D19:0)
(connect D10:1 O1:1)
(connect D13:1 O2:1)))
(contextCarrier
(active detail)
(detail
(extent 1143 622)
(anchorPt 108 39)
(configuration
(devCarrierFor 1
(active icon)
(icon
(extent 284 36))
(open
(extent 253 58))
(terminals on)
(pinCenter 430 350))
(devCarrierFor 2
(active icon)
(icon
(extent 126 16))
(open
(extent 561 32))
(terminals on)
(pinCenter 690 350))
(devCarrierFor 5
(active icon)
(icon
(extent 233 16))
(open
(extent 431 32))
(terminals on)
(pinCenter 690 490))
(devCarrierFor 8
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 50 160))
(devCarrierFor 9
(active icon)
(icon
(extent 229 25))
(open
(extent 228 53))
(terminals on)
(pinCenter 240 270))
(devCarrierFor 11
(active icon)
(icon
(extent 226 16))
(open
(extent 217 32))
(terminals on)
(pinCenter 50 10))
(devCarrierFor 20
(active icon)
(icon
(extent 212 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 50 50))
(devCarrierFor 22
(active icon)
(icon
(extent 188 25))
(open
(extent 174 61))
(terminals on)
(pinCenter 660 280))
(devCarrierFor 28
(active icon)
(icon
(extent 268 28))
(open
(extent 266 32))
(terminals on)
(pinCenter 350 20))
(devCarrierFor 37
(active icon)
(icon
(extent 218 16))
(open
(extent 217 32))
(terminals on)
(pinCenter 690 400))
(devCarrierFor 68
(active icon)
(icon
(extent 35 16))
(open)
(terminals on)
(pinCenter 600 40))
(devCarrierFor 69
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 600 120))
(devCarrierFor 70
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 830 360))
(devCarrierFor 71
(active icon)
(icon
(extent 35 16))
(open)
(terminals on)
(pinCenter 810 280))
(devCarrierFor 73
(active icon)
(icon
(extent 172 16))
(open
(extent 298 32))
(terminals on)
(pinCenter 240 200))
(devCarrierFor 76
(active icon)
(icon
(extent 172 16))
(open
(extent 507 32))
(terminals on)
(pinCenter 50 100))
(devCarrierFor 79
(active icon)
(icon
(extent 206 16))
(open
(extent 569 32))
(terminals on)
(pinCenter 690 540))
(devCarrierFor 80
(active icon)
(icon
(extent 166 16))
(open
(extent 227 32))
(terminals on)
(pinCenter 690 440))
(devCarrierFor 85
(active icon)
(icon
(extent 231 16))
(open
(extent 463 32))
(terminals on)
(pinCenter 600 80))
(devCarrierFor 86
(active icon)
(icon
(extent 231 16))
(open
(extent 463 32))
(terminals on)
(pinCenter 830 320))
(connect D4:1 D0:0
(points 3 357 260 430 260 430 329))
(connect D0:1 D1:1
(points 2 574 350 624 350))
(connect D17:0 D2:0
(points 2 690 450 690 479))
(connect D15:0 D3:0
(points 2 50 110 50 131))
(connect D14:0 D4:0
(points 2 240 210 240 255))
(connect D5:0 D6:0
(points 2 50 20 50 39))
(connect D1:0 D9:0
(points 2 690 360 690 389))
(connect D8:1 D10:1
(points 4 486 20 510 20 510 40 580 40))
(connect D18:0 D11:0
(points 2 600 90 600 109))
(connect D19:0 D12:0
(points 2 830 330 830 349))
(connect D7:1 D13:1
(points 2 756 280 790 280))
(connect D3:1 D14:0
(points 3 89 160 240 160 240 189))
(connect D6:0 D15:0
(points 2 50 60 50 89))
(connect D2:0 D16:0
(points 2 690 500 690 529))
(connect D9:0 D17:0
(points 2 690 410 690 429))
(connect D10:0 D18:0
(points 2 600 50 600 69))
(connect D13:0 D19:0
(points 4 810 290 810 300 830 300 830 309))
(connect D10:1 O1:1
(points 4 620 40 640 40 640 111 1034 111))
(connect D13:1 O2:1
(points 6 830 280 840 280 840 290 910 290 910 431 1034 431)))
(stackingOrder 6 3 8 5 7 10 14 0 9 1 4 17 2 11 13 12 18 19 16 15))))
(context 18
(properties
(name "SetUpPiecesForPlayer2")
(trigMode deg)
(nextID 94)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "LocalSetup")
(lock constraints)
(optional yes))
(output 2
(type data)
(name "AutoSetup")
(lock constraints)
(optional yes)))
(deviceList
(device 8 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 20 CALL
(properties
(name "Call board.ShowStartUpPanels")
(callFunc "board.ShowStartUpPanels")
(parmMode rev30)))
(device 22 CALL
(properties
(name "Call board.AutoSetupPanel")
(callFunc "board.AutoSetupPanel")
(parmMode rev30))
(interface
(output 1
(name "Setup")
(lock name constraints)
(optional yes))))
(device 28 FORMULA
(properties
(name "board.BeginGame(myPlayerNumber)")
(expr 1 "board.BeginGame(myPlayerNumber)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 68 GATE
(interface
(input 1
(name "A")
(tag "InData"))
(output 1
(name "X"))))
(device 69 EXITCONTEXT)
(device 70 EXITCONTEXT)
(device 71 GATE
(interface
(input 1
(name "A")
(tag "InData"))
(output 1
(name "X"))))
(device 75 FORMULA
(properties
(name "board.TimeSlicedSetup()")
(expr 1 "board.TimeSlicedSetup(myPlayerNumber)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 76 CALL
(properties
(name "Call network.GetPlayer1SetupFromHost")
(callFunc "network.GetPlayer1SetupFromHost")
(parmMode rev30))
(interface
(output 1
(name "Setup")
(optional yes))))
(device 79 IFTHENELSE
(properties
(name "still waiting for player 1?")
(cases 1 " NOT RemoteSetupComplete"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 80 FORMULA
(properties
(name "RemoteSetupComplete  = FALSE")
(expr 1 "RemoteSetupComplete = 0"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 82 FORMULA
(properties
(name "RemoteSetupComplete  = TRUE")
(expr 1 "RemoteSetupComplete = 1"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 83 FORMULA
(properties
(name "Call board.showGameBackPieces")
(expr 1 "board.ShowGameBackPieces(player1Layout, player1Color)"))
(interface
(input 1
(name "player1Layout")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 85 FORMULA
(properties
(name "Hide \"BeginSetupPanel\"")
(expr 1 "HidePanel(\"BeginSetupPanel\")"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 86 FORMULA
(properties
(name "Show \"OpponentReadyPanel\"")
(expr 1
"OpponentReadyPanel(player1Name), ShowPanel(\"OpponentReadyPanel\", 150, 60)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 87 FORMULA
(properties
(name "Hide \"BeginSetup\" & \"OppReady\"")
(expr 1 "HidePanel(\"BeginSetupPanel\"), HidePanel(\"OpponentReadyPanel\")"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 90 FORMULA
(properties
(name "Hide \"BeginSetup\" & \"OppReady\"")
(expr 1 "HidePanel(\"BeginSetupPanel\"), HidePanel(\"OpponentReadyPanel\")"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 92 FORMULA
(properties
(name "Show \"BeginSetupPanel\"")
(expr 1 "BeginSetupPanel(player1Name), ShowPanel(\"BeginSetupPanel\", 70, 60)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D18:0 D0:0)
(connect D11:0 D1:0)
(connect D2:1 D4:1)
(connect D17:0 D5:0)
(connect D16:0 D6:0)
(connect D3:1 D7:1)
(connect D0:1 D8:0)
(connect D10:1 D9:0)
(connect D8:0 D10:0)
(connect D13:0 D12:0)
(connect D14:0 D13:0)
(connect D9:1 D13:1)
(connect D9:1 D14:0)
(connect D12:0 D15:0)
(connect D7:0 D16:0)
(connect D4:0 D17:0)
(connect D1:0 D18:0)
(connect D7:1 O1:1)
(connect D4:1 O2:1)))
(contextCarrier
(active detail)
(detail
(extent 1033 609)
(anchorPt 109 54)
(configuration
(devCarrierFor 8
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 60 150))
(devCarrierFor 20
(active icon)
(icon
(extent 212 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 60 40))
(devCarrierFor 22
(active icon)
(icon
(extent 188 25))
(open
(extent 174 61))
(terminals on)
(pinCenter 650 310))
(devCarrierFor 28
(active icon)
(icon
(extent 268 28))
(open
(extent 266 32))
(terminals on)
(pinCenter 580 0))
(devCarrierFor 68
(active icon)
(icon
(extent 35 16))
(open)
(terminals on)
(pinCenter 820 310))
(devCarrierFor 69
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 810 390))
(devCarrierFor 70
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 830 90))
(devCarrierFor 71
(active icon)
(icon
(extent 35 16))
(open)
(terminals on)
(pinCenter 830 0))
(devCarrierFor 75
(active icon)
(icon
(extent 172 16))
(open
(extent 298 32))
(terminals on)
(pinCenter 160 210))
(devCarrierFor 76
(active icon)
(icon
(extent 275 16))
(open
(extent 263 54))
(terminals on)
(pinCenter 270 300))
(devCarrierFor 79
(active icon)
(icon
(extent 166 25))
(open
(extent 215 53))
(terminals on)
(pinCenter 160 250))
(devCarrierFor 80
(active icon)
(icon
(extent 231 16))
(open
(extent 204 32))
(terminals on)
(pinCenter 60 -10))
(devCarrierFor 82
(active icon)
(icon
(extent 223 16))
(open
(extent 204 32))
(terminals on)
(pinCenter 430 440))
(devCarrierFor 83
(active icon)
(icon
(extent 233 16))
(open
(extent 439 34))
(terminals on)
(pinCenter 430 400))
(devCarrierFor 85
(active icon)
(icon
(extent 166 16))
(open
(extent 227 32))
(terminals on)
(pinCenter 430 350))
(devCarrierFor 86
(active icon)
(icon
(extent 206 16))
(open
(extent 569 32))
(terminals on)
(pinCenter 430 490))
(devCarrierFor 87
(active icon)
(icon
(extent 231 16))
(open
(extent 463 32))
(terminals on)
(pinCenter 830 40))
(devCarrierFor 90
(active icon)
(icon
(extent 231 16))
(open
(extent 463 32))
(terminals on)
(pinCenter 820 350))
(devCarrierFor 92
(active icon)
(icon
(extent 172 16))
(open
(extent 507 32))
(terminals on)
(pinCenter 60 80))
(connect D18:0 D0:0
(points 2 60 90 60 121))
(connect D11:0 D1:0
(points 2 60 0 60 29))
(connect D2:1 D4:1
(points 2 746 310 800 310))
(connect D17:0 D5:0
(points 4 820 360 820 370 810 370 810 379))
(connect D16:0 D6:0
(points 2 830 50 830 79))
(connect D3:1 D7:1
(points 2 716 0 810 0))
(connect D0:1 D8:0
(points 3 99 150 160 150 160 199))
(connect D10:1 D9:0
(points 3 245 240 270 240 270 289))
(connect D8:0 D10:0
(points 2 160 220 160 235))
(connect D13:0 D12:0
(points 2 430 410 430 429))
(connect D14:0 D13:0
(points 2 430 360 430 389))
(connect D9:1 D13:1
(points 6 410 300 430 300 430 330 290 330 290 400 311 400))
(connect D9:1 D14:0
(points 3 410 300 430 300 430 339))
(connect D12:0 D15:0
(points 2 430 450 430 479))
(connect D7:0 D16:0
(points 2 830 10 830 29))
(connect D4:0 D17:0
(points 2 820 320 820 339))
(connect D1:0 D18:0
(points 2 60 50 60 69))
(connect D7:1 O1:1
(points 4 850 0 896 0 896 100 923 100))
(connect D4:1 O2:1
(points 4 840 310 860 310 860 400 923 400)))
(stackingOrder 4 7 3 2 8 0 11 13 9 14 12 5 6 16 17 10 15 1 18))))
(context 20
(properties
(name "SetUpPiecesNetworked")
(trigMode deg)
(nextID 45)
(popupTitleText "UserFunction")
(popupMoveable 1))
(deviceList
(device 0 IFTHENELSE
(properties
(name "player 1 or 2?")
(cases 1 "myPlayerNumber==1"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 26 DECLVAR
(properties
(name "Declare Local \'RemoteSetup\'")
(scope lib)
(globalName "RemoteSetup"))
(implementation
(value Int32
(numDims 1)
(size 1)
(data  [ 0 ]))))
(device 27 DECLVAR
(properties
(name "Declare Local \'RemoteSetupComplete\'")
(scope lib)
(globalName "RemoteSetupComplete"))
(implementation
(value Int32
(data  0))))
(device 43 CONTEXT
(properties
(name "DoPlayer2")
(trigMode deg)
(nextID 11)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 CALL
(properties
(name "Call SetUpPiecesForPlayer2")
(callFunc "SetUpPiecesForPlayer2")
(parmMode rev30))
(interface
(output 1
(name "LocalSetup")
(lock name constraints)
(optional yes))
(output 2
(name "AutoSetup")
(lock name constraints)
(optional yes))))
(device 1 CONTEXT
(properties
(name "Get Game Board From Player 1")
(trigMode deg)
(nextID 5)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 FORMULA
(properties
(name "set \'GameBoard\'")
(expr 1 "GameBoard = ary"))
(interface
(input 1
(name "ary")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 1 CALL
(properties
(name "Call network.GetGameBoardFromPlayer1")
(callFunc "network.GetGameBoardFromPlayer1")
(parmMode rev30))
(interface
(output 1
(name "GameBoard")
(optional yes))))
(device 2 IFTHENELSE
(properties
(name "still waiting for player 1?")
(cases 1 " NOT RemoteSetupComplete"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 3 FORMULA
(properties
(name "Show \"WaitingOnOpponentPanel\"")
(expr 1
"WaitingOnOpponentPanel(player1Name), ShowPanel(\"WaitingOnOpponentPanel\", 135, 80)"
))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 4 FORMULA
(properties
(name "Hide \"WaitingOnOpponentPanel\"")
(expr 1 "HidePanel(\"WaitingOnOpponentPanel\")"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D1:1 D0:1)
(connect D2:0 D1:0)
(connect D2:1 D3:0)
(connect D1:0 D4:0)))
(contextCarrier
(active detail)
(detail
(extent 771 385)
(anchorPt 8 -10)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 115 16))
(open
(extent 146 32))
(terminals on)
(pinCenter 430 170))
(devCarrierFor 1
(active icon)
(icon
(extent 287 16))
(open
(extent 269 56))
(terminals on)
(pinCenter 160 170))
(devCarrierFor 2
(active icon)
(icon
(extent 166 25))
(open
(extent 215 53))
(terminals on)
(pinCenter 160 80))
(devCarrierFor 3
(active icon)
(icon
(extent 234 16))
(open
(extent 619 32))
(terminals on)
(pinCenter 420 110))
(devCarrierFor 4
(active icon)
(icon
(extent 227 16))
(open
(extent 347 32))
(terminals on)
(pinCenter 160 250))
(connect D1:1 D0:1
(points 2 306 170 370 170))
(connect D2:0 D1:0
(points 2 160 95 160 159))
(connect D2:1 D3:0
(points 3 245 70 420 70 420 99))
(connect D1:0 D4:0
(points 2 160 180 160 239)))
(stackingOrder 2 4 0 3 1))))
(device 2 CALL
(properties
(name "Call board.HideStartUpPanels")
(callFunc "board.HideStartUpPanels")
(parmMode rev30)))
(device 3 FORMULA
(properties
(name "network.SendPlayer2BoardToHost")
(expr 1 "network.SendPlayer2BoardToHost(LocalSetup)"))
(interface
(input 1
(name "LocalSetup")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 4 CALL
(properties
(name "Call board.HideStartUpPanels")
(callFunc "board.HideStartUpPanels")
(parmMode rev30)))
(device 5 FORMULA
(properties
(name "board.AutoSetupPieces()")
(expr 1 "board.AutoSetupPieces(myPlayerNumber)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 6 FORMULA
(properties
(name "network.SendPlayer2SetupToHost")
(expr 1 "network.SendPlayer2SetupToHost(LocalSetup)"))
(interface
(input 1
(name "LocalSetup")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 10 FORMULA
(properties
(name "Call board.showGameBackPieces")
(expr 1 "board.ShowGameBackPieces(GameBoard[0:39], player1Color)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D0:0 D1:0)
(connect D0:1 D2:0)
(connect D2:0 D3:0)
(connect D0:1 D3:1)
(connect D0:2 D4:0)
(connect D4:0 D5:0)
(connect D5:1 D6:1)
(connect D1:0 D7:0)))
(contextCarrier
(active detail)
(detail
(extent 866 451)
(anchorPt 1 6)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 195 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 170 180))
(devCarrierFor 1
(active icon)
(icon
(extent 220 16))
(terminals on)
(pinCenter 170 270))
(devCarrierFor 2
(active icon)
(icon
(extent 205 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 430 70))
(devCarrierFor 3
(active icon)
(icon
(extent 238 16))
(open
(extent 362 35))
(terminals on)
(pinCenter 430 110))
(devCarrierFor 4
(active icon)
(icon
(extent 205 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 420 190))
(devCarrierFor 5
(active icon)
(icon
(extent 174 16))
(open
(extent 300 32))
(terminals on)
(pinCenter 420 230))
(devCarrierFor 6
(active icon)
(icon
(extent 237 16))
(open
(extent 331 32))
(terminals on)
(pinCenter 670 230))
(devCarrierFor 10
(active icon)
(icon
(extent 233 16))
(open
(extent 431 32))
(terminals on)
(pinCenter 170 340))
(connect D0:0 D1:0
(points 2 170 195 170 259))
(connect D0:1 D2:0
(points 5 270 170 280 170 280 40 430 40 430 59))
(connect D2:0 D3:0
(points 2 430 80 430 99))
(connect D0:1 D3:1
(points 4 270 170 280 170 280 110 308 110))
(connect D0:2 D4:0
(points 5 270 190 290 190 290 160 420 160 420 179))
(connect D4:0 D5:0
(points 2 420 200 420 219))
(connect D5:1 D6:1
(points 2 509 230 549 230))
(connect D1:0 D7:0
(points 2 170 280 170 329)))
(stackingOrder 2 4 5 6 3 0 7 1))))
(device 44 CONTEXT
(properties
(name "DoPlayer1")
(trigMode deg)
(nextID 10)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 CALL
(properties
(name "Call SetUpPiecesForPlayer1")
(callFunc "SetUpPiecesForPlayer1")
(parmMode rev30))
(interface
(output 1
(name "LocalSetup")
(lock name constraints)
(optional yes))
(output 2
(name "AutoSetup")
(lock name constraints)
(optional yes))))
(device 1 CONTEXT
(properties
(name "GetOpponentBoard")
(trigMode deg)
(nextID 21)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(input 1
(name "player1Setup")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes)))
(deviceList
(device 0 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 1 IFTHENELSE
(properties
(name "Opponent Setup Not Completed?")
(cases 1 " NOT RemoteSetupComplete"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 2 CALL
(properties
(name "Call network.CheckForOpponentSetup")
(callFunc "network.CheckForOpponentSetup")
(parmMode rev30))
(interface
(output 1
(name "OpponentSetup")
(optional yes))))
(device 3 BREAK)
(device 4 FORMULA
(properties
(name "set \'RemoteSetup\'")
(expr 1
"RemoteSetup = layout+1000, GameBoard[0:39] = InvertPlayer2Setup(remoteSetup)"))
(interface
(input 1
(name "layout")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 5 FORMULA
(properties
(name "Call board.showGameBackPieces")
(expr 1 "board.ShowGameBackPieces(GameBoard[0:39], player2Color)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 6 FORMULA
(properties
(name "RemoteSetupComplete = TRUE")
(expr 1 "RemoteSetupComplete = 1"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 7 CONTEXT
(properties
(name "SendGameBoardToPlayer2")
(trigMode deg)
(nextID 2)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(input 1
(name "player1Setup")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes)))
(deviceList
(device 0 CALL
(properties
(name "Call network.SendGameBoardToPlayer2")
(callFunc "network.SendGameBoardToPlayer2")
(parmMode rev30))
(interface
(input 1
(name "GameBoard")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))))
(device 1 FORMULA
(properties
(name "inverted GameBoard + player 1 setup")
(expr 1 "GameBoard[60:99] = setup, InvertGameBoard(GameBoard)"))
(interface
(input 1
(name "setup")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D1:1 D0:1)
(connect I1:1 D1:1)))
(contextCarrier
(active detail)
(detail
(extent 667 321)
(anchorPt 14 -49)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 280 16))
(open
(extent 311 53))
(terminals on)
(pinCenter 560 180))
(devCarrierFor 1
(active icon)
(icon
(extent 260 16))
(open
(extent 410 45))
(terminals on)
(pinCenter 210 180))
(connect D1:1 D0:1
(points 2 342 180 417 180))
(connect I1:1 D1:1
(points 4 -14 209 0 209 0 180 77 180)))
(stackingOrder 0 1))))
(device 17 IFTHENELSE
(properties
(name "Opponent Setup Not Completed?")
(cases 1 " NOT RemoteSetupComplete"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 18 FORMULA
(properties
(name "Show \"WaitingOnOpponentPanel\"")
(expr 1
"WaitingOnOpponentPanel(player2Name), ShowPanel(\"WaitingOnOpponentPanel\", 135, 80)"
))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 20 FORMULA
(properties
(name "Hide \"WaitingOnOpponentPanel\"")
(expr 1 "HidePanel(\"WaitingOnOpponentPanel\")"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D8:0 D0:0)
(connect D0:1 D1:0)
(connect D1:1 D2:0)
(connect D1:2 D3:0)
(connect D2:1 D4:1)
(connect D4:0 D5:0)
(connect D5:0 D6:0)
(connect D10:0 D7:0)
(connect I1:1 D7:1)
(connect D8:1 D9:0)
(connect D0:0 D10:0)))
(contextCarrier
(active detail)
(detail
(extent 957 481)
(anchorPt 80 57)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 120 90))
(devCarrierFor 1
(active icon)
(icon
(extent 229 25))
(open
(extent 228 53))
(terminals on)
(pinCenter 290 140))
(devCarrierFor 2
(active icon)
(icon
(extent 284 36))
(open
(extent 253 58))
(terminals on)
(pinCenter 420 280))
(devCarrierFor 3
(active icon)
(icon
(extent 41 16))
(open)
(terminals on)
(pinCenter 450 180))
(devCarrierFor 4
(active icon)
(icon
(extent 126 16))
(open
(extent 561 32))
(terminals on)
(pinCenter 650 280))
(devCarrierFor 5
(active icon)
(icon
(extent 233 16))
(open
(extent 431 32))
(terminals on)
(pinCenter 650 330))
(devCarrierFor 6
(active icon)
(icon
(extent 218 16))
(open
(extent 217 32))
(terminals on)
(pinCenter 650 370))
(devCarrierFor 7
(active icon)
(icon
(extent 191 16))
(terminals on)
(pinCenter 120 290))
(devCarrierFor 17
(active icon)
(icon
(extent 229 25))
(open
(extent 228 53))
(terminals on)
(pinCenter 120 10))
(devCarrierFor 18
(active icon)
(icon
(extent 234 16))
(open
(extent 619 32))
(terminals on)
(pinCenter 370 50))
(devCarrierFor 20
(active icon)
(icon
(extent 227 16))
(open
(extent 283 32))
(terminals on)
(pinCenter 120 220))
(connect D8:0 D0:0
(points 2 120 25 120 61))
(connect D0:1 D1:0
(points 3 159 90 290 90 290 125))
(connect D1:1 D2:0
(points 5 407 130 490 130 490 210 420 210 420 259))
(connect D1:2 D3:0
(points 3 407 150 450 150 450 169))
(connect D2:1 D4:1
(points 2 564 280 584 280))
(connect D4:0 D5:0
(points 2 650 290 650 319))
(connect D5:0 D6:0
(points 2 650 340 650 359))
(connect D10:0 D7:0
(points 2 120 230 120 279))
(connect I1:1 D7:1
(points 6 -80 183 0 183 0 200 -20 200 -20 290 22 290))
(connect D8:1 D9:0
(points 3 237 0 370 0 370 39))
(connect D0:0 D10:0
(points 2 120 118 120 209)))
(stackingOrder 6 0 3 2 1 10 9 8 7 4 5))))
(device 2 CALL
(properties
(name "Call board.HideStartUpPanels")
(callFunc "board.HideStartUpPanels")
(parmMode rev30)))
(device 3 CALL
(properties
(name "Call board.HideStartUpPanels")
(callFunc "board.HideStartUpPanels")
(parmMode rev30)))
(device 4 FORMULA
(properties
(name "board.AutoSetupPieces()")
(expr 1 "board.AutoSetupPieces(myPlayerNumber)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 5 JUNCTION
(properties
(name "JCT"))
(interface
(input 1
(name "A"))
(input 2
(name "B"))
(output 1
(name "Data"))))
(device 6 CONTEXT
(properties
(name "SendPlayer1Setup")
(trigMode deg)
(nextID 5)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(input 1
(name "player1Setup")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes)))
(deviceList
(device 3 IFTHENELSE
(properties
(name "Opponent Setup Not Completed?")
(cases 1 " NOT RemoteSetupComplete"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 4 FORMULA
(properties
(name "network.sendPlayer1Setup()")
(expr 1 "network.SendPlayer1Setup(InvertPlayer2Setup(player1Setup))"))
(interface
(input 1
(name "player1Setup")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D0:1 D1:0)
(connect I1:1 D1:1)))
(contextCarrier
(active detail)
(detail
(extent 662 167)
(anchorPt 179 33)
(configuration
(devCarrierFor 3
(active icon)
(icon
(extent 229 25))
(open
(extent 228 53))
(terminals on)
(pinCenter -40 20))
(devCarrierFor 4
(active icon)
(icon
(extent 196 16))
(open
(extent 464 38))
(terminals on)
(pinCenter 210 70))
(connect D0:1 D1:0
(points 3 77 10 210 10 210 59))
(connect I1:1 D1:1
(points 4 -179 50 -170 50 -170 70 109 70)))
(stackingOrder 0 1))))
(configuration
(connect D5:1 D1:1)
(connect D0:1 D2:0)
(connect D0:2 D3:0)
(connect D3:0 D4:0)
(connect D0:1 D5:1)
(connect D4:1 D5:2)
(connect D5:1 D6:1)))
(contextCarrier
(active detail)
(detail
(extent 860 295)
(anchorPt -33 10)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 195 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 160 130))
(devCarrierFor 1
(active icon)
(icon
(extent 147 29))
(terminals on)
(pinCenter 720 160))
(devCarrierFor 2
(active icon)
(icon
(extent 205 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 420 70))
(devCarrierFor 3
(active icon)
(icon
(extent 205 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 410 140))
(devCarrierFor 4
(active icon)
(icon
(extent 174 16))
(open
(extent 300 32))
(terminals on)
(pinCenter 410 170))
(devCarrierFor 5
(active icon)
(icon
(extent 29 25))
(open)
(terminals on)
(pinCenter 590 110))
(devCarrierFor 6
(active icon)
(icon
(extent 129 16))
(terminals on)
(pinCenter 720 110))
(connect D5:1 D1:1
(points 4 607 110 630 110 630 160 644 160))
(connect D0:1 D2:0
(points 5 260 120 280 120 280 40 420 40 420 59))
(connect D0:2 D3:0
(points 5 260 140 290 140 290 110 410 110 410 129))
(connect D3:0 D4:0
(points 2 410 150 410 159))
(connect D0:1 D5:1
(points 4 260 120 280 120 280 100 573 100))
(connect D4:1 D5:2
(points 4 499 170 540 170 540 120 573 120))
(connect D5:1 D6:1
(points 2 607 110 653 110)))
(stackingOrder 2 3 4 5 0 6 1))))
(configuration
(connect D0:2 D3:0)
(connect D0:1 D4:0)))
(contextCarrier
(active detail)
(detail
(extent 423 409)
(anchorPt -28 148)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 96 25))
(open
(extent 163 53))
(terminals on)
(pinCenter 140 110))
(devCarrierFor 26
(active icon)
(icon
(extent 201 16))
(open
(extent 259 107))
(pinCenter 160 -70))
(devCarrierFor 27
(active icon)
(icon
(extent 267 16))
(open
(extent 303 107))
(pinCenter 190 -100))
(devCarrierFor 43
(active icon)
(icon
(extent 129 37))
(terminals on)
(pinCenter 320 170))
(devCarrierFor 44
(active icon)
(icon
(extent 101 46))
(terminals on)
(pinCenter 330 90))
(connect D0:2 D3:0
(points 5 190 120 210 120 210 130 320 130 320 149))
(connect D0:1 D4:0
(points 5 190 100 210 100 210 40 330 40 330 64)))
(stackingOrder 1 2 0 4 3))))
(context 30
(properties
(name "ShowKnownStuff")
(trigMode deg)
(nextID 7)
(popupTitleText "UserFunction1")
(popupMoveable 1))
(interface
(input 1
(name "playerNumber")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "board")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes)))
(deviceList
(device 0 CALL
(properties
(name "Call board.EnablePlayerPieces")
(callFunc "board.EnablePlayerPieces")
(parmMode rev30))
(interface
(input 1
(name "playerNumber")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "board")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))))
(device 1 CALL
(properties
(name "Call board.DisablePlayerPieces")
(callFunc "board.DisablePlayerPieces")
(parmMode rev30))
(interface
(input 1
(name "playerNumber")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))))
(device 2 CALL
(properties
(name "Call board.ShowKnownPieces")
(callFunc "board.ShowKnownPieces")
(parmMode rev30))
(interface
(input 1
(name "playerNumber")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "knownPieces")
(requires
(datatype Int32)
(shape "Array 1D"))
(optional yes))
(input 3
(name "playingComputer")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))))
(device 3 IFTHENELSE
(properties
(name "should disable pieces?")
(cases 1 " NOT playingComputer OR pn==1"))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 4 IFTHENELSE
(properties
(name "should enable pieces?")
(cases 1 " NOT playingComputer OR pn==1"))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 5 FORMULA
(properties
(name "GameBoard")
(expr 1 "GameBoard"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 6 FORMULA
(properties
(name "playingComputer")
(expr 1 "playingComputer"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect I1:1 D0:1)
(connect D5:1 D0:2)
(connect D3:1 D1:0)
(connect I1:1 D1:1)
(connect D3:0 D2:0)
(connect I1:1 D2:1)
(connect I2:1 D2:2)
(connect D6:1 D2:3)
(connect I1:1 D3:1)
(connect D2:0 D4:0)
(connect I1:1 D4:1)
(connect D4:1 D5:0)))
(contextCarrier
(active detail)
(detail
(extent 801 460)
(anchorPt 209 -47)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 188 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 440 350))
(devCarrierFor 1
(active icon)
(icon
(extent 192 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 350 160))
(devCarrierFor 2
(active icon)
(icon
(extent 205 34))
(open
(extent 186 62))
(terminals on)
(pinCenter 190 220))
(devCarrierFor 3
(active icon)
(icon
(extent 158 25))
(open
(extent 340 53))
(terminals on)
(pinCenter 190 120))
(devCarrierFor 4
(active icon)
(icon
(extent 156 25))
(open
(extent 340 53))
(terminals on)
(pinCenter 190 280))
(devCarrierFor 5
(active icon)
(icon
(extent 83 16))
(open
(extent 110 32))
(terminals on)
(pinCenter 240 370))
(devCarrierFor 6
(active icon)
(icon
(extent 117 16))
(open
(extent 141 32))
(terminals on)
(pinCenter -10 260))
(connect I1:1 D0:1
(points 4 -209 156 -200 156 -200 340 343 340))
(connect D5:1 D0:2
(points 4 284 370 300 370 300 360 343 360))
(connect D3:1 D1:0
(points 3 271 110 350 110 350 149))
(connect I1:1 D1:1
(points 4 -209 156 21 156 21 160 251 160))
(connect D3:0 D2:0
(points 2 190 135 190 200))
(connect I1:1 D2:1
(points 4 -209 156 60 156 60 210 85 210))
(connect I2:1 D2:2
(points 4 -209 396 -190 396 -190 220 85 220))
(connect D6:1 D2:3
(points 4 51 260 60 260 60 230 85 230))
(connect I1:1 D3:1
(points 4 -209 156 80 156 80 120 108 120))
(connect D2:0 D4:0
(points 2 190 239 190 265))
(connect I1:1 D4:1
(points 6 -209 156 -200 156 -200 340 80 340 80 280 109 280))
(connect D4:1 D5:0
(points 5 270 270 290 270 290 320 240 320 240 359)))
(stackingOrder 3 5 6 4 2 1 0))))
(context 35
(properties
(name "ShowOpponent")
(trigMode deg)
(nextID 4)
(popupTitleText "UserFunction")
(popupMoveable 1))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "boardIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes)))
(deviceList
(device 0 FORMULA
(properties
(name "opponent piece type")
(expr 1 "op = GameBoard[def], op = (op>=1000 ? op-1000 : op), TypeOfPiece[op-1]"
))
(interface
(input 1
(name "def")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "op")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 1 FORMULA
(properties
(name "opponent color")
(expr 1 "(pn==1 ? player1Color : player2Color)"))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 CALL
(properties
(name "Call board.ShowOpponentPiece")
(callFunc "board.ShowOpponentPiece")
(parmMode rev30))
(interface
(input 1
(name "opponentColor")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(input 2
(name "pieceType")
(optional yes))
(input 3
(name "boardIndex")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))))
(device 3 FORMULA
(properties
(name "board.HideOpponentBack()")
(expr 1 "(opponent!= -100 ? board.HideOpponentBack(GameBoard[pos]) : 0)"))
(interface
(input 1
(name "opponent")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(input 2
(name "pos")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect I2:1 D0:1)
(connect I1:1 D1:1)
(connect D1:1 D2:1)
(connect D0:2 D2:2)
(connect I2:1 D2:3)
(connect D2:0 D3:0)
(connect I1:1 D3:1)
(connect I2:1 D3:2)))
(contextCarrier
(active detail)
(detail
(extent 652 220)
(anchorPt 0 0)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 141 25))
(open
(extent 719 62))
(terminals on)
(pinCenter 130 140))
(devCarrierFor 1
(active icon)
(icon
(extent 104 16))
(open
(extent 430 32))
(terminals on)
(pinCenter 120 90))
(devCarrierFor 2
(active icon)
(icon
(extent 230 38))
(open
(extent 197 62))
(terminals on)
(pinCenter 460 80))
(devCarrierFor 3
(active icon)
(icon
(extent 190 25))
(open
(extent 462 42))
(terminals on)
(pinCenter 460 150))
(connect I2:1 D0:1
(points 4 0 169 20 169 20 140 57 140))
(connect I1:1 D1:1
(points 4 0 49 10 49 10 90 65 90))
(connect D1:1 D2:1
(points 4 174 90 190 90 190 70 342 70))
(connect D0:2 D2:2
(points 4 203 150 230 150 230 80 342 80))
(connect I2:1 D2:3
(points 6 0 169 10 169 10 180 240 180 240 90 342 90))
(connect D2:0 D3:0
(points 2 460 101 460 135))
(connect I1:1 D3:1
(points 6 0 49 -10 49 -10 190 250 190 250 140 362 140))
(connect I2:1 D3:2
(points 6 0 169 10 169 10 180 240 180 240 160 362 160)))
(stackingOrder 0 1 3 2))))
(context 27
(properties
(name "WaitingOnOpponentPanel")
(trigMode deg)
(nextID 4)
(popupTitleText "")
(popupMoveable 1)
(showPopupTitle 0))
(interface
(input 1
(name "playerName")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes)))
(deviceList
(device 0 FORMULA
(properties
(name "\"Waiting...\"")
(expr 1 "\"Waiting for \"+pname+\" to finish setting up.\""))
(interface
(input 1
(name "pname")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 LABEL
(properties
(name "Waiting for Master of the Universe to finish setting up.")
(labelValue "Waiting for Master of the Universe to finish setting up."))
(interface
(input 1
(name "Label")
(tag "Label")
(requires
(datatype Text)
(shape "Scalar"))
(lock constraints)
(optional yes)
(buffer YES)))
(implementation))
(configuration
(connect I1:1 D0:1)
(connect D0:1 D1:1)))
(contextCarrier
(active panel)
(panel
(extent 367 119)
(drawGrid "off")
(widget 1 detail
(relativeOrigin 0 20)
(bg "Green")
(fg "White")
(font "Arial" 16 bold)
(PID 0)
(title off)
(tabStop off)
(tabIndex 0)
(borderStyle none)
(extent 360 60)
(just c))
(panelBg "Green"))
(detail
(extent 743 490)
(anchorPt -3 -60)
(configuration
(devCarrierFor 0
(active open)
(icon
(extent 75 0))
(open
(extent 308 32))
(terminals on)
(pinCenter 300 250))
(devCarrierFor 2
(active open)
(icon)
(open
(extent 47 28)
(just l))
(title off)
(pinCenter 610 250))
(connect I1:1 D0:1
(points 4 3 304 10 304 10 250 93 250))
(connect D0:1 D1:1
(points 2 506 250 584 250)))
(stackingOrder 1 0)))))
(device 18 CONTEXT
(properties
(name "Intro")
(trigMode deg)
(nextID 33)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 IMPORT
(properties
(name "Import Library \'computer\'")
(libType userFunction)
(libName "computer")
(fileName "~installDir\\examples\\Games\\Straveego\\computer.vee"))
(implementation))
(device 1 IMPORT
(properties
(name "Import Library \'board\'")
(libType userFunction)
(libName "board")
(fileName "~installDir\\examples\\Games\\Straveego\\board.vee"))
(implementation))
(device 3 FORMULA
(properties
(name "show intro panel")
(expr 1 "showPanel(\"IntroPanel\", 50, 150)")))
(device 4 TIMER
(interface
(input 1
(name "Time1")
(lock name constraints))
(input 2
(name "Time2")
(lock name constraints))
(output 1
(name "T2 - T1")
(tag "dTime")
(lock name constraints))))
(device 5 FORMULA
(properties
(name "hide intro panel")
(expr 1 "hidePanel(\"IntroPanel\")")))
(device 6 GATE
(interface
(input 1
(name "A")
(tag "InData"))
(output 1
(name "X"))))
(device 7 IFTHENELSE
(properties
(name "super quick import?")
(cases 1 "deltaT<2"))
(interface
(input 1
(name "deltaT")
(optional yes))
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 8 DELAY
(properties
(delay 2.5))
(interface
(output 1
(name "Done"))))
(device 9 CONTEXT
(properties
(name "DetermineGraphicsSpeed")
(trigMode deg)
(nextID 5)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "speed")
(lock constraints)
(optional yes)))
(deviceList
(device 0 FORMULA
(properties
(name "show invisible panel")
(expr 1 "showPanel(\"InvisiblePanel\", 100, 10, 100, 100)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 1 FORCOUNT
(properties
(count 10))
(interface
(output 1
(name "Count")
(lock name constraints))))
(device 2 TIMER
(interface
(input 1
(name "Time1")
(lock name constraints))
(input 2
(name "Time2")
(lock name constraints))
(output 1
(name "T2 - T1")
(tag "dTime")
(lock name constraints))))
(device 3 DO
(interface
(output 1
(name "Do"))))
(device 4 FORMULA
(properties
(name "compute speed (1-10)")
(expr 1 "(deltaT<0.030 ? 1 : (deltaT/0.030>10.0 ? 10 : (deltaT/0.03)))"))
(interface
(input 1
(name "deltaT")
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D1:1 D0:0)
(connect D3:0 D1:0)
(connect D3:1 D2:1)
(connect D1:0 D2:2)
(connect D2:1 D4:1)
(connect D4:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 756 201)
(anchorPt 103 79)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 137 16))
(open
(extent 336 32))
(terminals on)
(pinCenter 80 100))
(devCarrierFor 1
(active icon)
(icon
(extent 70 52)
(iconImage "loop.icn"))
(open
(extent 106 32))
(pinCenter -30 60))
(devCarrierFor 2
(active icon)
(icon
(extent 68 52)
(iconImage "timer.icn"))
(open
(extent 76 32))
(pinCenter 110 -10))
(devCarrierFor 3
(active icon)
(icon
(extent 24 16))
(open)
(terminals on)
(pinCenter -30 -20))
(devCarrierFor 4
(active icon)
(icon
(extent 154 16))
(open
(extent 416 32))
(terminals on)
(pinCenter 280 0))
(connect D1:1 D0:0
(points 3 7 60 80 60 80 89))
(connect D3:0 D1:0
(points 2 -30 -10 -30 31))
(connect D3:1 D2:1
(points 2 -16 -20 73 -20))
(connect D1:0 D2:2
(points 7 -30 88 -30 110 -90 110 -90 10 0 10 0 0 73 0))
(connect D2:1 D4:1
(points 4 146 -10 170 -10 170 0 200 0))
(connect D4:1 O1:1
(points 4 359 0 380 0 380 21 652 21)))
(stackingOrder 1 3 2 4 0))))
(device 10 FORMULA
(properties
(name "set \'speed\'")
(expr 1 "Speed = spd"))
(interface
(input 1
(name "spd")
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 11 DECLVAR
(properties
(name "Declare Local \'speed\'")
(scope con)
(globalName "speed"))
(implementation
(value Int32
(data  0))))
(device 13 FORMULA
(properties
(name "board.SetGraphicsSpeed()")
(expr 1 "board.SetGraphicsSpeed(speed)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 15 IMPORT
(properties
(name "Import Library \'network\'")
(libType userFunction)
(libName "network")
(fileName "~installDir\\examples\\Games\\Straveego\\network.vee"))
(implementation))
(device 16 CONTEXT
(properties
(name "DebugMode?")
(trigMode deg)
(nextID 4)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 FROMFILE
(properties
(transactions 1 "EXECUTE REWIND"))
(interface
(output 1
(name "X")
(optional yes))
(output 2
(type exception)
(name "Error")
(lock name constraints)
(optional yes)))
(implementation
(attr iopath file read "~installDir\\examples\\Games\\Straveego\\debug"
(readTerm "\n")
(fs " ")
(eol "\n")
(multiField fullSyntax)
(arrayFormat block))))
(device 1 FORMULA
(properties
(name "debug = TRUE")
(expr 1 "debug = 1"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 FORMULA
(properties
(name "debug = FALSE")
(expr 1 "debug = 0"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 3 DECLVAR
(properties
(name "Declare Global \'debug\'")
(scope glob)
(globalName "debug"))
(implementation
(value Int32
(data  0))))
(configuration
(connect D0:1 D1:0)
(connect D0:2 D2:0)))
(contextCarrier
(active detail)
(detail
(extent 358 245)
(anchorPt -56 3)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 66 25))
(open
(extent 619 109))
(terminals on)
(pinCenter 160 140))
(devCarrierFor 1
(active icon)
(icon
(extent 102 16))
(open
(extent 98 32))
(terminals on)
(pinCenter 280 130))
(devCarrierFor 2
(active icon)
(icon
(extent 110 16))
(open
(extent 98 32))
(terminals on)
(pinCenter 280 170))
(devCarrierFor 3
(active icon)
(icon
(extent 158 16))
(open
(extent 215 107))
(pinCenter 230 40))
(connect D0:1 D1:0
(points 5 195 130 210 130 210 100 280 100 280 119))
(connect D0:2 D2:0
(points 3 195 150 280 150 280 159)))
(stackingOrder 1 2 3 0))))
(device 17 FORMULA
(properties
(name "show PleaseWaitPanel")
(expr 1 "showPanel(\"PleaseWaitPanel\", 230, 400)")))
(device 18 FORMULA
(properties
(name "hide PleaseWaitPanel")
(expr 1 "hidePanel(\"PleaseWaitPanel\")")))
(device 19 DELAY
(properties
(delay 1.5))
(interface
(output 1
(name "Done"))))
(configuration
(connect D14:0 D0:0)
(connect D0:0 D1:0)
(connect D13:0 D2:0)
(connect D5:1 D3:1)
(connect D11:0 D3:2)
(connect D15:0 D4:0)
(connect D16:1 D5:1)
(connect D3:1 D6:1)
(connect D6:1 D7:0)
(connect D2:0 D8:0)
(connect D8:1 D9:1)
(connect D12:0 D11:0)
(connect D1:0 D12:0)
(connect D5:0 D14:0)
(connect D6:0 D15:0)
(connect D8:0 D16:0)))
(contextCarrier
(active detail)
(detail
(extent 747 493)
(anchorPt 11 124)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 171 16))
(open
(extent 525 92))
(pinCenter 150 170))
(devCarrierFor 1
(active icon)
(icon
(extent 147 16))
(open
(extent 525 92))
(pinCenter 150 210))
(devCarrierFor 3
(active icon)
(icon
(extent 113 16))
(open
(extent 242 32))
(terminals on)
(pinCenter 140 -30))
(devCarrierFor 4
(active icon)
(icon
(extent 68 52)
(iconImage "timer.icn"))
(open
(extent 76 32))
(pinCenter 430 80))
(devCarrierFor 5
(active icon)
(icon
(extent 107 16))
(open
(extent 242 32))
(terminals on)
(pinCenter 570 180))
(devCarrierFor 6
(active icon)
(icon
(extent 34 14))
(open)
(terminals on)
(pinCenter 150 90))
(devCarrierFor 7
(active icon)
(icon
(extent 136 25))
(open
(extent 116 53))
(terminals on)
(pinCenter 570 80))
(devCarrierFor 8
(active icon)
(icon
(extent 40 16))
(open
(extent 76 32))
(pinCenter 670 100))
(devCarrierFor 9
(active icon)
(icon
(extent 179 16))
(terminals on)
(pinCenter 140 10))
(devCarrierFor 10
(active icon)
(icon
(extent 74 16))
(open
(extent 124 32))
(terminals on)
(pinCenter 300 10))
(devCarrierFor 11
(active icon)
(icon
(extent 149 16))
(open
(extent 215 107))
(pinCenter 330 -20))
(devCarrierFor 13
(active icon)
(icon
(extent 187 16))
(open
(extent 243 32))
(terminals on)
(pinCenter 150 290))
(devCarrierFor 15
(active icon)
(icon
(extent 160 16))
(open
(extent 525 92))
(pinCenter 150 250))
(devCarrierFor 16
(active icon)
(icon
(extent 93 16))
(terminals on)
(pinCenter 140 -70))
(devCarrierFor 17
(active icon)
(icon
(extent 157 16))
(open
(extent 293 32))
(terminals on)
(pinCenter 150 130))
(devCarrierFor 18
(active icon)
(icon
(extent 151 16))
(open
(extent 242 32))
(terminals on)
(pinCenter 570 140))
(devCarrierFor 19
(active icon)
(icon
(extent 40 16))
(open
(extent 76 32))
(pinCenter 140 50))
(connect D14:0 D0:0
(points 2 150 140 150 159))
(connect D0:0 D1:0
(points 2 150 180 150 199))
(connect D13:0 D2:0
(points 2 140 -60 140 -41))
(connect D5:1 D3:1
(points 4 169 90 190 90 190 70 393 70))
(connect D11:0 D3:2
(points 5 150 300 150 320 270 320 270 90 393 90))
(connect D15:0 D4:0
(points 2 570 150 570 169))
(connect D16:1 D5:1
(points 6 162 50 170 50 170 70 120 70 120 90 130 90))
(connect D3:1 D6:1
(points 2 466 80 499 80))
(connect D6:1 D7:0
(points 3 640 70 670 70 670 89))
(connect D2:0 D8:0
(points 2 140 -20 140 -1))
(connect D8:1 D9:1
(points 2 232 10 260 10))
(connect D12:0 D11:0
(points 2 150 260 150 279))
(connect D1:0 D12:0
(points 2 150 220 150 239))
(connect D5:0 D14:0
(points 2 150 99 150 119))
(connect D6:0 D15:0
(points 2 570 95 570 129))
(connect D8:0 D16:0
(points 2 140 20 140 39)))
(stackingOrder 3 6 10 5 9 15 4 11 0 1 12 13 16 2 8 14 7))))
(device 20 NOTE
(properties
(name "Warranty Disclaimer")
(text2 4 "This example is provided as an"
"illustration \"as is\", and Keysight Technologies"
"makes no warranty of any kind" "with regard to this example.")))
(device 23 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 39 CONTEXT
(properties
(name "Set Up Networked Game")
(trigMode deg)
(nextID 29)
(popupTitleText "UserObject")
(popupMoveable 1))
(interface
(output 1
(type data)
(name "OK")
(lock constraints)
(optional yes)))
(deviceList
(device 2 FORMULA
(properties
(name "Call board.initialize")
(expr 1 "board.initialize()"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 4 CALL
(properties
(name "Call network.ConnectPlayers")
(callFunc "network.ConnectPlayers")
(parmMode rev30))
(interface
(output 1
(name "player1Name")
(lock name constraints)
(optional yes))
(output 2
(name "player2Name")
(lock name constraints)
(optional yes))
(output 3
(name "yourPlayerNumber")
(optional yes))
(output 4
(name "Cancelled")
(lock name constraints)
(optional yes))))
(device 5 FORMULA
(properties
(name "set \'player1Name\'")
(expr 1 "player1Name = text"))
(interface
(input 1
(name "text")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 6 FORMULA
(properties
(name "set \'player2Name\'")
(expr 1 "player2Name = text"))
(interface
(input 1
(name "text")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 8 EXITCONTEXT)
(device 10 CALL
(properties
(name "Call board.ShowBoard")
(callFunc "board.ShowBoard")
(parmMode rev30)))
(device 11 FORMULA
(properties
(name "set \'myPlayerNumber\'")
(expr 1 "myPlayerNumber = pn"))
(interface
(input 1
(name "pn")
(requires
(datatype Int32)
(shape "Scalar"))
(optional yes))
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 18 CALL
(properties
(name "Call SetUpPiecesNetworked")
(callFunc "SetUpPiecesNetworked")
(parmMode rev30)))
(device 21 FORMULA
(properties
(name "board.ShowGamePieces(myPlayerNumber)")
(expr 1 "board.ShowGamePieces(myPlayerNumber)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 23 CALL
(properties
(name "Call board.ShowBoardStuff")
(callFunc "board.ShowBoardStuff")
(parmMode rev30)))
(device 24 IFTHENELSE
(properties
(name "am I a client (player 2)?")
(cases 1 "myPlayerNumber==2"))
(interface
(output 1
(name "Then")
(lock name constraints))
(output 2
(name "Else")
(lock name constraints))))
(device 25 CALL
(properties
(name "Call board.SetClientFlag")
(callFunc "board.SetClientFlag")
(parmMode rev30)))
(device 27 FORMULA
(properties
(name "board.disablePlayerPieces(2)")
(expr 1 "board.disablePlayerPieces(2)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 28 CONSTANT
(properties
(name "TRUE"))
(interface
(output 1
(name "Int32")
(lock name constraints)))
(implementation
(value Int32
(data  1))
(initValue Int32
(data  0))))
(configuration
(connect D0:0 D1:0)
(connect D1:1 D2:1)
(connect D1:2 D3:1)
(connect D1:4 D4:0)
(connect D1:0 D5:0)
(connect D1:3 D6:1)
(connect D8:0 D7:0)
(connect D5:0 D8:0)
(connect D7:0 D9:0)
(connect D9:0 D10:0)
(connect D10:1 D11:0)
(connect D11:0 D12:0)
(connect D10:0 D13:0)
(connect D13:1 O1:1)))
(contextCarrier
(active detail)
(detail
(extent 749 582)
(anchorPt -154 -125)
(configuration
(devCarrierFor 2
(active icon)
(icon
(extent 129 16))
(open
(extent 134 32))
(terminals on)
(pinCenter 350 170))
(devCarrierFor 4
(active icon)
(icon
(extent 204 102))
(open
(extent 166 82))
(terminals on)
(pinCenter 350 280))
(devCarrierFor 5
(active icon)
(icon
(extent 123 16))
(open
(extent 155 32))
(terminals on)
(pinCenter 620 230))
(devCarrierFor 6
(active icon)
(icon
(extent 123 16))
(open
(extent 155 32))
(terminals on)
(pinCenter 620 260))
(devCarrierFor 8
(active icon)
(icon
(extent 105 16))
(open)
(terminals on)
(pinCenter 590 370))
(devCarrierFor 10
(active icon)
(icon
(extent 155 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 350 370))
(devCarrierFor 11
(active icon)
(icon
(extent 149 16))
(open
(extent 173 32))
(terminals on)
(pinCenter 630 300))
(devCarrierFor 18
(active icon)
(icon
(extent 191 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 350 460))
(devCarrierFor 21
(active icon)
(icon
(extent 299 16))
(open
(extent 306 32))
(terminals on)
(pinCenter 350 410))
(devCarrierFor 23
(active icon)
(icon
(extent 187 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 350 510))
(devCarrierFor 24
(active icon)
(icon
(extent 162 25))
(open
(extent 163 53))
(terminals on)
(pinCenter 350 560))
(devCarrierFor 25
(active icon)
(icon
(extent 169 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 530 600))
(devCarrierFor 27
(active icon)
(icon
(extent 204 16))
(open
(extent 220 32))
(terminals on)
(pinCenter 530 630))
(devCarrierFor 28
(active icon)
(icon
(extent 43 14))
(open
(extent 84 30)
(showFormat int))
(pinCenter 350 620))
(connect D0:0 D1:0
(points 2 350 180 350 226))
(connect D1:1 D2:1
(points 4 454 250 470 250 470 230 556 230))
(connect D1:2 D3:1
(points 4 454 270 470 270 470 260 556 260))
(connect D1:4 D4:0
(points 5 454 310 470 310 470 330 590 330 590 359))
(connect D1:0 D5:0
(points 2 350 333 350 359))
(connect D1:3 D6:1
(points 4 454 290 470 290 470 300 553 300))
(connect D8:0 D7:0
(points 2 350 420 350 449))
(connect D5:0 D8:0
(points 2 350 380 350 399))
(connect D7:0 D9:0
(points 2 350 470 350 499))
(connect D9:0 D10:0
(points 2 350 520 350 545))
(connect D10:1 D11:0
(points 3 433 550 530 550 530 589))
(connect D11:0 D12:0
(points 2 530 610 530 619))
(connect D10:0 D13:0
(points 2 350 575 350 610))
(connect D13:1 O1:1
(points 6 374 620 390 620 390 660 650 660 650 415 902 415)))
(stackingOrder 3 2 0 1 6 5 8 7 10 11 9 12 4 13))))
(device 41 CONTEXT
(properties
(name "New Game Versus Computer")
(trigMode deg)
(nextID 9)
(popupTitleText "UserObject")
(popupMoveable 1))
(deviceList
(device 0 FORMULA
(properties
(name "Call board.interactiveSetup")
(expr 1
"playerSetup = board.interactiveSetup(1), GameBoard[60:99] = playerSetup"))
(interface
(output 1
(name "playerSetup")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 1 FORMULA
(properties
(name "Call board.showGameBackPieces")
(expr 1 "board.ShowGameBackPieces(GameBoard[0:39], player2Color)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 2 FORMULA
(properties
(name "Call computer.SetUpBoard")
(expr 1
"compSetup = computer.SetUpBoard(\"red\"), GameBoard[0:39] = (compSetup+1000)"))
(interface
(output 1
(name "compSetup")
(optional yes))
(output 2
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 4 FORMULA
(properties
(name "Call board.initialize")
(expr 1 "board.initialize()"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 6 CALL
(properties
(name "Call board.ShowBoard")
(callFunc "board.ShowBoard")
(parmMode rev30)))
(device 7 FORMULA
(properties
(name "board.ShowGamePieces(1)")
(expr 1 "board.ShowGamePieces(1)"))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(device 8 FORMULA
(properties
(name "playingComputer = TRUE")
(expr 1 "playingComputer = 1, player2Name = \"Computer\""))
(interface
(output 1
(name "Result")
(tag "Result")
(lock name constraints)
(optional yes))))
(configuration
(connect D5:0 D0:0)
(connect D2:0 D1:0)
(connect D4:0 D2:0)
(connect D3:0 D4:0)
(connect D1:0 D5:0)
(connect D0:0 D6:0)))
(contextCarrier
(active detail)
(detail
(extent 396 450)
(anchorPt -71 87)
(configuration
(devCarrierFor 0
(active icon)
(icon
(extent 188 25))
(open
(extent 568 46))
(terminals on)
(pinCenter 260 270))
(devCarrierFor 1
(active icon)
(icon
(extent 233 16))
(open
(extent 431 32))
(terminals on)
(pinCenter 260 150))
(devCarrierFor 2
(active icon)
(icon
(extent 183 25))
(open
(extent 558 42))
(terminals on)
(pinCenter 260 80))
(devCarrierFor 4
(active icon)
(icon
(extent 129 16))
(open
(extent 134 32))
(terminals on)
(pinCenter 260 -20))
(devCarrierFor 6
(active icon)
(icon
(extent 155 16))
(open
(extent 196 53))
(terminals on)
(pinCenter 260 30))
(devCarrierFor 7
(active icon)
(icon
(extent 190 16))
(open
(extent 306 32))
(terminals on)
(pinCenter 260 210))
(devCarrierFor 8
(active icon)
(icon
(extent 176 16))
(open
(extent 344 32))
(terminals on)
(pinCenter 260 320))
(connect D5:0 D0:0
(points 2 260 220 260 255))
(connect D2:0 D1:0
(points 2 260 95 260 139))
(connect D4:0 D2:0
(points 2 260 40 260 65))
(connect D3:0 D4:0
(points 2 260 -10 260 19))
(connect D1:0 D5:0
(points 2 260 160 260 199))
(connect D0:0 D6:0
(points 2 260 285 260 309)))
(stackingOrder 2 3 5 0 6 4 1))))
(device 38 CALL
(properties
(name "Call InitializeVariables")
(callFunc "InitializeVariables")
(parmMode rev30)))
(device 37 EXITPROCESS
(properties
(code 0)))
(device 36 CALL
(properties
(name "Call GetGameMode")
(callFunc "GetGameMode")
(parmMode rev30))
(interface
(output 1
(name "NewCompGame")
(lock name constraints)
(optional yes))
(output 2
(name "SavedCompGame")
(lock name constraints)
(optional yes))
(output 3
(name "Networked")
(lock name constraints)
(optional yes))
(output 4
(name "Cancel")
(lock name constraints)
(optional yes))))
(device 43 CALL
(properties
(name "Call PlayGame")
(callFunc "PlayGame")
(parmMode rev30))
(interface
(output 1
(name "Save Game To File")
(lock name constraints)
(optional yes))))
(device 45 BREAK)
(device 46 REPEATUNTILBREAK
(interface
(output 1
(name "Continuous")
(lock name constraints))))
(device 47 BREAK)
(device 48 BREAK)
(device 49 EXITPROCESS
(properties
(code 0)))
(device 50 CALL
(properties
(name "Call SaveGame")
(callFunc "SaveGame")
(parmMode rev30))
(interface
(input 1
(name "Filename")
(requires
(datatype Text)
(shape "Scalar"))
(optional yes))))
(device 51 CALL
(properties
(name "Call OpenPreviousGame")
(callFunc "OpenPreviousGame")
(parmMode rev30))
(interface
(output 1
(name "OK")
(lock name constraints)
(optional yes))))
(configuration
(connect D0:0 D2:0)
(connect D7:3 D3:0)
(connect D7:1 D4:0)
(connect D2:1 D5:0)
(connect D7:4 D6:0)
(connect D10:1 D7:0)
(connect D10:0 D8:0)
(connect D15:1 D9:0)
(connect D5:0 D10:0)
(connect D3:1 D11:0)
(connect D4:0 D12:0)
(connect D14:0 D13:0)
(connect D8:1 D14:1)
(connect D7:2 D15:0))
(ShowOnExecPanel))
(contextCarrier
(wndOrigin 2 924)
(wndRestoredOrigin 2 2)
(wndRestoredExtent 894 669)
(wndState min)
(active detail)
(panel
(extent 854 646)
(drawGrid "off")
(panelBg "Med Teal"))
(detail
(extent 894 669)
(anchorPt -39 21)
(configuration
(devCarrierFor 18
(active icon)
(icon
(extent 66 42))
(terminals on)
(pinCenter 140 50))
(devCarrierFor 20
(active icon)
(icon
(extent 338 48)
(iconImage "disclaim.gif")
(label off))
(open
(extent 397 82)
(editing disabled))
(pinCenter 460 60))
(devCarrierFor 23
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 140 130))
(devCarrierFor 39
(active icon)
(icon
(extent 169 41))
(terminals on)
(pinCenter 700 370))
(devCarrierFor 41
(active icon)
(icon
(extent 200 35))
(terminals on)
(pinCenter 690 170))
(devCarrierFor 38
(active icon)
(icon
(extent 164 20))
(open
(extent 196 53))
(terminals on)
(pinCenter 290 160))
(devCarrierFor 37
(active icon)
(icon
(extent 68 52)
(iconImage "stop.icn"))
(open
(extent 69 32))
(pinCenter 540 410))
(devCarrierFor 36
(active icon)
(icon
(extent 140 82))
(open
(extent 196 82))
(terminals on)
(pinCenter 430 310))
(devCarrierFor 43
(active icon)
(icon
(extent 119 54))
(open
(extent 196 53))
(terminals on)
(pinCenter 290 510))
(devCarrierFor 45
(active icon)
(icon
(extent 41 16))
(open)
(terminals on)
(pinCenter 790 300))
(devCarrierFor 46
(active icon)
(icon
(extent 74 52)
(iconImage "loop.icn"))
(open)
(terminals on)
(pinCenter 290 220))
(devCarrierFor 47
(active icon)
(icon
(extent 41 16))
(open)
(terminals on)
(pinCenter 820 400))
(devCarrierFor 48
(active icon)
(icon
(extent 41 16))
(open)
(terminals on)
(pinCenter 690 210))
(devCarrierFor 49
(active icon)
(icon
(extent 68 52)
(iconImage "stop.icn"))
(open
(extent 69 32))
(pinCenter 430 580))
(devCarrierFor 50
(active icon)
(icon
(extent 107 25))
(open
(extent 196 53))
(terminals on)
(pinCenter 430 510))
(devCarrierFor 51
(active icon)
(icon
(extent 171 26))
(open
(extent 196 53))
(terminals on)
(pinCenter 680 270))
(connect D0:0 D2:0
(points 2 140 73 140 101))
(connect D7:3 D3:0
(points 3 502 320 700 320 700 347))
(connect D7:1 D4:0
(points 5 502 280 510 280 510 130 690 130 690 150))
(connect D2:1 D5:0
(points 3 179 130 290 130 290 147))
(connect D7:4 D6:0
(points 3 502 340 540 340 540 381))
(connect D10:1 D7:0
(points 3 329 220 430 220 430 266))
(connect D10:0 D8:0
(points 2 290 248 290 480))
(connect D15:1 D9:0
(points 3 768 270 790 270 790 289))
(connect D5:0 D10:0
(points 2 290 172 290 191))
(connect D3:1 D11:0
(points 3 787 370 820 370 820 389))
(connect D4:0 D12:0
(points 2 690 190 690 199))
(connect D14:0 D13:0
(points 2 430 525 430 551))
(connect D8:1 D14:1
(points 2 352 510 374 510))
(connect D7:2 D15:0
(points 5 502 300 520 300 520 230 680 230 680 254)))
(stackingOrder 2 1 10 3 11 4 12 7 6 13 14 15 9 5 8 0))
(numberFormats
(realFormat standard)
(realSigDigits 4)
(realRadixSpec 4)
(integerBase decimal))))
